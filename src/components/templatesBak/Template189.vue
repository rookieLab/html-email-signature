<template>
    <div><!---->
        <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 14.4px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td valign="top" style="margin: 0.1px; padding: 0px; cursor: pointer;"><img
                                    src="https://img.mysignature.io/p/e/3/c/e3cc40c1-8f40-52f4-abde-de757a19c728.png?time=1685569257"
                                    width="149" alt=" &quot;created with MySignature.io&quot;"
                                    style="display: block; min-width: 149px;"></td>
                            <td valign="top"
                                style="margin: 0.1px; padding: 0px 0px 0px 15px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 5px; font: 17.3px / 22.1px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="font-weight: 600; color: rgb(89, 86, 151); cursor: pointer;">Viktor
                                                Fry</span><!----><!---->&nbsp;<span
                                                style="font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">Content
                                                Marketing Manager</span></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 5px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span style="cursor: pointer;"><span
                                                    style="color: rgb(0, 0, 1);">Soulmart</span></span><!----><!---->
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(89, 86, 151); font-weight: 600;">email:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">fry@mysignature.io</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(89, 86, 151); font-weight: 600;">website:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">mysignature.io</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(89, 86, 151); font-weight: 600;">address:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1);">517 Robinson Lane, Athens</span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(89, 86, 151); font-weight: 600;">skype:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">contact_fry</span>
                                        </td>
                                    </tr><!---->
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 8px 0px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <table cellpadding="0" style="border-collapse: collapse;">
                                                <tr>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 22px; height: 22px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.4px; width: 13.2px;">
                                                                <path
                                                                    d="M704 449.119c0-233.361-72.139-353.119-241.387-353.119-166.475 0-238.613 119.759-238.613 353.119 0 232.242 72.139 350.881 238.613 350.881 26.636 0 50.497-2.798 72.694-9.513v0c-34.405-68.273-74.914-137.107-153.711-137.107-14.983 0-29.965 2.239-43.838 8.954l-27.191-54.283c32.74-28.541 85.457-50.925 153.156-50.925 105.989 0 159.815 51.484 203.099 116.961 24.971-55.962 37.18-131.511 37.18-224.966v-0.001zM926.799 810.857h64.784c3.876 41.143-16.057 213.143-197.122 213.143-109.635 0-167.221-65.714-210.964-142.286v0c-35.991 10.286-74.751 15.429-113.511 15.429-221.484 0-437.986-182.286-437.986-447.429 0-267.429 217.055-449.714 437.986-449.714 225.36 0 439.647 181.143 439.647 449.714 0 149.714-67.553 271.429-165.56 349.714 31.561 49.143 64.231 81.714 109.635 81.714 49.834 0 69.768-39.429 73.090-70.286v0.001z"
                                                                    fill="#595697"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 22px; height: 22px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.4px; width: 13.2px;">
                                                                <path
                                                                    d="M956.862 383.625h-57.35c-35.132 0-65.924-29.713-68.323-63.938v0c0.004-182.49-147.114-319.688-330.867-319.688h-167.66c-183.633 0-332.531 147.856-332.661 330.343v362.444c0 182.476 149.028 330.214 332.659 330.214h358.070c183.769 0 332.272-147.738 332.272-330.214v-234.153c0-36.466-29.411-75.009-66.139-75.009zM319.688 255.75h191.813c35.166 0 63.938 28.772 63.938 63.938s-28.772 63.938-63.938 63.938h-191.813c-35.166 0-63.938-28.772-63.938-63.938s28.772-63.938 63.938-63.938zM703.313 767.251h-383.625c-35.166 0-63.938-28.772-63.938-63.938s28.772-63.938 63.938-63.938h383.625c35.166 0 63.938 28.772 63.938 63.938s-28.772 63.938-63.938 63.938z"
                                                                    fill="#595697"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 22px; height: 22px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1053 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.4px; width: 13.2px;">
                                                                <path
                                                                    d="M529.314 0c-282.77 0-512 229.23-512 512s229.23 512 512 512c282.77 0 512-229.23 512-512s-229.23-512-512-512zM796.625 362.543c26.244-3.104 51.27-10.053 74.533-20.331-17.39 25.922-39.386 48.681-64.758 66.899 0.252 5.533 0.377 11.115 0.377 16.715 0 170.821-130.525 367.774-369.199 367.774-73.275 0-141.499-21.39-198.893-58.078 10.132 1.205 20.486 1.814 30.938 1.814 60.81 0 116.752-20.658 161.171-55.331-56.794-1.050-104.705-38.423-121.215-89.764 7.917 1.504 16.036 2.305 24.415 2.305 11.817 0 23.303-1.571 34.181-4.541-59.351-11.867-104.097-64.102-104.097-126.73 0-0.541 0-1.088 0.010-1.638 17.486 9.708 37.509 15.518 58.768 16.185-34.798-23.175-57.722-62.754-57.722-107.587 0-23.684 6.406-45.902 17.573-64.989 64.005 78.225 159.623 129.679 267.465 135.069-2.226-9.468-3.379-19.327-3.379-29.459 0-71.37 58.111-129.255 129.761-129.255 37.344 0 71.066 15.694 94.738 40.805 29.544-5.796 57.326-16.542 82.4-31.358-9.708 30.2-30.269 55.504-57.066 71.496z"
                                                                    fill="#595697"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 14.4px / 18.3px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 22px; height: 22px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.4px; width: 13.2px;">
                                                                <path
                                                                    d="M72.5 511.5c0-63.367 13.701-123.879 38.249-178.683l209.509 573.726c-146.714-71.359-247.758-221.498-247.758-395.043zM807.782 489.236c0 37.677-15.414 81.064-33.681 142.147l-43.387 146.143-158.702-471.54c0 0 26.26-1.712 50.237-4.567 23.406-2.854 20.551-37.677-2.854-35.965-71.359 5.138-117.029 5.708-117.029 5.708s-42.815-0.57-115.316-5.708c-23.977-1.712-26.831 34.253-2.854 35.965 22.264 2.284 45.669 4.567 45.669 4.567l68.504 187.246-95.906 287.719-159.844-474.965c0 0 26.26-1.712 50.237-4.567 23.406-2.854 20.551-37.677-2.854-35.965-70.788 5.138-117.029 5.708-117.029 5.708-7.992 0-17.697-0.57-27.973-0.57 78.21-119.312 212.935-198.093 366.499-198.093 114.175 0 218.073 43.957 296.283 115.316h-5.709c-42.815 0-73.642 37.107-73.642 77.638 0 35.965 21.122 66.221 43.387 102.757 17.126 29.115 35.965 66.792 35.965 121.025v-0.001zM518.922 549.749l135.297 369.353c0.57 2.284 1.712 4.567 2.854 6.28-45.669 15.984-94.194 25.118-145.572 25.118-42.815 0-84.488-6.28-123.879-18.268l131.3-382.483zM896.268 300.849c34.253 62.796 54.233 134.155 54.233 210.651 0 162.128-87.914 303.133-218.643 379.059l134.155-387.051c22.264-63.938 33.681-113.033 33.681-157.56 0-15.984-1.142-30.827-3.426-45.099v0zM511.5 0c282.011 0 511.5 229.49 511.5 511.5s-229.49 511.5-511.5 511.5c-282.011 0-511.5-229.49-511.5-511.5s229.49-511.5 511.5-511.5zM511.5 999.595c268.88 0 488.094-219.215 488.094-488.094s-219.215-488.094-488.094-488.094c-268.879 0-488.094 219.215-488.094 488.094s219.215 488.094 488.094 488.094z"
                                                                    fill="#595697"></path>
                                                            </svg></span></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr><!---->
        </table>
        <div>
            <table cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td style="padding: 13px 4px 4px 0px; margin: 0.1px;"><span><img
                                src="https://img.mysignature.io/addons/v2/facebook_v1_shape2_b.png" height="41"
                                width="144" alt="facebook" style="display: block;"></span></td>
                    <td style="padding: 13px 4px 4px 0px; margin: 0.1px;"><span><img
                                src="https://img.mysignature.io/addons/v2/pinterest_v1_shape2_b.png" height="41"
                                width="144" alt="pinterest" style="display: block;"></span></td>
                    <td style="padding: 13px 4px 4px 0px; margin: 0.1px;"><!----></td>
                </tr>
            </table><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template189',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
                type: {
            type: String,
            default: 'preview' // editing | preview
        },
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
         initEditingStore() {
            if (this.type === 'preview') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = data
            }

            if (this.type === 'editing') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = useEditingStore()
                this.editing.init(data);
            }

        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>