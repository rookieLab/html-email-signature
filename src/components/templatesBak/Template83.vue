<template>
    <div><!---->
        <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 13.4px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td valign="middle" style="margin: 0.1px; padding: 0px 15px 0px 0px; cursor: pointer;"><img
                                    src="https://img.mysignature.io/p/f/b/2/fb21b6f3-926b-54b7-bbd8-af3a3ef7fdd4.png?time=1709195034"
                                    width="173" alt=" &quot;created with MySignature.io&quot;"
                                    style="display: block; min-width: 173px;"></td>
                            <td valign="middle"
                                style="margin: 0.1px; padding: 0px; font: 13.4px / 17.1px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td style="margin: 0.1px; padding: 4px 15px 0px 0px; cursor: pointer;"><span
                                                style="border-radius: 50%; width: 22px; height: 22px; display: block; text-align: center; background-color: rgb(247, 215, 243); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                    viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                                    style="position: relative; top: 4.4px; width: 13.2px;">
                                                    <path
                                                        d="M1024 512.329c0-282.951-229.23-512.329-512-512.329s-512 229.378-512 512.329c0 255.715 187.23 467.671 432 506.101v-358.005h-130v-148.096h130v-112.872c0-128.403 76.44-199.328 193.39-199.328 56 0 114.61 10.006 114.61 10.006v126.081h-64.56c-63.6 0-83.44 39.496-83.44 80.052v96.061h142l-22.7 148.096h-119.3v358.005c244.77-38.43 432-250.386 432-506.101z"
                                                        fill="#B969AE"></path>
                                                </svg></span></td>
                                    </tr>
                                    <tr>
                                        <td style="margin: 0.1px; padding: 4px 15px 0px 0px; cursor: pointer;"><span
                                                style="border-radius: 50%; width: 22px; height: 22px; display: block; text-align: center; background-color: rgb(247, 215, 243); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                    viewBox="0 0 1053 1024" xmlns="http://www.w3.org/2000/svg"
                                                    style="position: relative; top: 4.4px; width: 13.2px;">
                                                    <path
                                                        d="M529.314 0c-282.77 0-512 229.23-512 512s229.23 512 512 512c282.77 0 512-229.23 512-512s-229.23-512-512-512zM796.625 362.543c26.244-3.104 51.27-10.053 74.533-20.331-17.39 25.922-39.386 48.681-64.758 66.899 0.252 5.533 0.377 11.115 0.377 16.715 0 170.821-130.525 367.774-369.199 367.774-73.275 0-141.499-21.39-198.893-58.078 10.132 1.205 20.486 1.814 30.938 1.814 60.81 0 116.752-20.658 161.171-55.331-56.794-1.050-104.705-38.423-121.215-89.764 7.917 1.504 16.036 2.305 24.415 2.305 11.817 0 23.303-1.571 34.181-4.541-59.351-11.867-104.097-64.102-104.097-126.73 0-0.541 0-1.088 0.010-1.638 17.486 9.708 37.509 15.518 58.768 16.185-34.798-23.175-57.722-62.754-57.722-107.587 0-23.684 6.406-45.902 17.573-64.989 64.005 78.225 159.623 129.679 267.465 135.069-2.226-9.468-3.379-19.327-3.379-29.459 0-71.37 58.111-129.255 129.761-129.255 37.344 0 71.066 15.694 94.738 40.805 29.544-5.796 57.326-16.542 82.4-31.358-9.708 30.2-30.269 55.504-57.066 71.496z"
                                                        fill="#B969AE"></path>
                                                </svg></span></td>
                                    </tr>
                                    <tr>
                                        <td style="margin: 0.1px; padding: 4px 15px 0px 0px; cursor: pointer;"><span
                                                style="border-radius: 50%; width: 22px; height: 22px; display: block; text-align: center; background-color: rgb(247, 215, 243); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                    viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                                    style="position: relative; top: 4.4px; width: 13.2px;">
                                                    <path
                                                        d="M340.811 240.336v669.632c0 17.697-8.564 34.253-27.974 34.253-6.85 0-13.13-1.712-18.839-4.567l-265.455-133.013c-15.984-7.992-28.543-28.543-28.543-45.669v-650.793c0-14.272 6.85-27.402 22.264-27.402 9.134 0 17.126 4.567 25.118 8.563l291.715 146.143c0.57 0.57 1.712 2.284 1.712 2.854v0zM377.345 297.995l304.845 494.374-304.845-151.852v-342.523zM1023.001 308.27v601.698c0 18.839-10.846 31.969-29.685 31.969-9.705 0-18.839-2.854-26.831-7.422l-251.754-125.591 308.27-500.654zM1021.289 239.766c0 2.284-295.141 481.244-317.975 517.78l-222.64-361.933 184.962-300.849c6.28-10.276 17.697-15.984 29.685-15.984 5.138 0 10.276 1.142 14.843 3.426l308.841 154.135c1.142 0.57 2.284 1.712 2.284 3.426v-0.001z"
                                                        fill="#B969AE"></path>
                                                </svg></span></td>
                                    </tr>
                                </table>
                            </td>
                            <td valign="middle" style="margin: 0.1px; padding: 0px;">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 2px; font: 16.1px / 20.5px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(120, 104, 118); font-weight: 600; cursor: pointer;">Ethan
                                                Mitchell</span><!----><!----></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 5px; font: 13.4px / 17.1px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span style="cursor: pointer;"></span><!----><span
                                                style="cursor: pointer;">Fashion &amp; Style Guru</span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 13.4px / 17.1px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span>✉:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">meadows@mysignature.io</span><!----><!----><span
                                                style="color: rgb(0, 0, 1);"></span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 13.4px / 17.1px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span>☏:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">+55-686-876-3572</span><!----><!---->
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 13.4px / 17.1px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <!----><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;"></span><!----><!---->
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr><!---->
        </table>
        <div>
            <table cellpadding="0" style="border-collapse: collapse;"></table>
            <table width="500" cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td style="padding: 17px 10px 0px 0px; margin: 0.1px; cursor: pointer;"><img
                            alt="Subscribe my fashion blog"
                            src="https://img.mysignature.io/a/v1/7/0/7/7075e1bd-f67d-5faa-bfde-72360f198ac2.png"
                            style="max-width: 490px; display: block;" width="233"></td>
                </tr>
            </table>
            <table width="461" cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td
                        style="margin: 0.1px; padding: 15px 0px 0px; font: 12.1px / 15.3px Verdana, Geneva, sans-serif; color: rgb(137, 140, 143); cursor: pointer;">
                        We encourage you to embrace your unique taste and use our suggestions as inspiration to express
                        your personal flair. Additionally, please note that any product recommendations or endorsements
                        are based on our honest opinions and experiences. We advise you to conduct your own research and
                        consider your own needs before making any purchasing decisions. Our goal is to empower and
                        inspire you on your fashion journey, but ultimately, the choice is yours</td>
                </tr>
            </table><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template83',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
                type: {
            type: String,
            default: 'preview' // editing | preview
        },
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
         initEditingStore() {
            if (this.type === 'preview') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = data
            }

            if (this.type === 'editing') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = useEditingStore()
                this.editing.init(data);
            }

        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>