<template>
    <div><!---->
        <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 12.3px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td valign="middle" style="margin: 0.1px; padding: 0px 15px 0px 0px; cursor: pointer;"><img
                                    src="https://img.mysignature.io/p/d/0/9/d097b5d0-f228-57e2-b8dc-4976b254b071.png?time=1708937249"
                                    width="124" alt=" &quot;created with MySignature.io&quot;"
                                    style="display: block; min-width: 124px;"></td>
                            <td valign="middle"
                                style="margin: 0.1px; padding: 0px; font: 12.3px / 15.7px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td style="margin: 0.1px; padding: 4px 15px 0px 0px; cursor: pointer;"><span
                                                style="border-radius: 50%; width: 24px; height: 24px; display: block; text-align: center; background-color: rgb(237, 237, 237); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                    viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                                    style="position: relative; top: 4.8px; width: 14.4px;">
                                                    <path
                                                        d="M1024 512.329c0-282.951-229.23-512.329-512-512.329s-512 229.378-512 512.329c0 255.715 187.23 467.671 432 506.101v-358.005h-130v-148.096h130v-112.872c0-128.403 76.44-199.328 193.39-199.328 56 0 114.61 10.006 114.61 10.006v126.081h-64.56c-63.6 0-83.44 39.496-83.44 80.052v96.061h142l-22.7 148.096h-119.3v358.005c244.77-38.43 432-250.386 432-506.101z"
                                                        fill="#404040"></path>
                                                </svg></span></td>
                                    </tr>
                                    <tr>
                                        <td style="margin: 0.1px; padding: 4px 15px 0px 0px; cursor: pointer;"><span
                                                style="border-radius: 50%; width: 24px; height: 24px; display: block; text-align: center; background-color: rgb(237, 237, 237); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                    viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                                    style="position: relative; top: 4.8px; width: 14.4px;">
                                                    <path
                                                        d="M340.811 240.336v669.632c0 17.697-8.564 34.253-27.974 34.253-6.85 0-13.13-1.712-18.839-4.567l-265.455-133.013c-15.984-7.992-28.543-28.543-28.543-45.669v-650.793c0-14.272 6.85-27.402 22.264-27.402 9.134 0 17.126 4.567 25.118 8.563l291.715 146.143c0.57 0.57 1.712 2.284 1.712 2.854v0zM377.345 297.995l304.845 494.374-304.845-151.852v-342.523zM1023.001 308.27v601.698c0 18.839-10.846 31.969-29.685 31.969-9.705 0-18.839-2.854-26.831-7.422l-251.754-125.591 308.27-500.654zM1021.289 239.766c0 2.284-295.141 481.244-317.975 517.78l-222.64-361.933 184.962-300.849c6.28-10.276 17.697-15.984 29.685-15.984 5.138 0 10.276 1.142 14.843 3.426l308.841 154.135c1.142 0.57 2.284 1.712 2.284 3.426v-0.001z"
                                                        fill="#404040"></path>
                                                </svg></span></td>
                                    </tr>
                                    <tr>
                                        <td style="margin: 0.1px; padding: 4px 15px 0px 0px; cursor: pointer;"><span
                                                style="border-radius: 50%; width: 24px; height: 24px; display: block; text-align: center; background-color: rgb(237, 237, 237); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                    viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                                    style="position: relative; top: 4.8px; width: 14.4px;">
                                                    <path
                                                        d="M934.337 501.609c0 32.105-3.53 63.312-10.191 93.506 17.023 33.807 26.604 71.934 26.604 112.201 0 139.586-114.688 252.684-256.215 252.684-43.827 0-85.051-18.091-121.149-37.196-26.2 4.774-53.233 7.295-80.881 7.295-244 0-441.773-187.816-441.773-428.49 0-29.99 3.068-59.285 8.944-87.566-22.319-37.547-35.2-81.199-35.2-127.805 0-139.587 114.692-252.714 256.247-252.714 50.078 0 96.802 14.242 136.282 38.79 24.548-4.169 49.792-6.369 75.524-6.369 244.034 0 441.807 195.080 441.807 435.664zM619.203 736.412c32.851-13.692 57.807-32.739 74.859-56.969 16.994-24.259 25.561-51.614 25.551-82.013 0-25.42-4.949-46.87-14.765-64.356-9.811-17.54-23.532-32.071-41.048-43.535-17.54-11.375-38.849-21.131-63.829-29.15-25.015-7.991-52.946-15.342-83.749-21.973-24.659-5.733-42.35-10.045-53.031-13.027-10.681-3.037-21.276-7.148-31.667-12.417-10.506-5.24-18.729-11.466-24.662-18.846-5.933-7.323-8.974-16.065-8.974-26.081 0-16.239 8.799-30.192 26.342-41.712 17.543-11.606 40.644-17.34 69.216-17.34 30.857 0 53.204 5.326 67.16 15.979 13.951 10.624 25.849 25.444 35.835 44.434 7.675 13.288 14.824 22.841 21.421 28.688 6.602 5.816 16.243 8.77 28.95 8.77 13.926 0 25.561-4.89 34.884-14.617 9.318-9.699 13.951-20.7 13.951-32.828 0-13.199-3.73-26.92-11.201-40.816-7.441-13.982-19.28-27.295-35.465-40.005-16.15-12.71-36.44-22.898-60.962-30.6-24.517-7.612-53.58-11.463-87.162-11.463-42 0-78.592 5.762-109.682 17.339-31.146 11.581-54.854 28.11-71.268 49.646-16.443 21.508-24.634 46.084-24.634 73.816 0 29.034 7.759 53.35 23.333 72.976 15.518 19.54 36.59 34.968 63.077 46.346 26.456 11.288 59.37 21.246 98.653 29.672 29.409 6.164 52.859 12.010 70.374 17.54 17.54 5.471 31.842 13.434 42.93 23.854 11.059 10.333 16.613 23.966 16.613 40.643 0 21.046-10.303 38.678-30.798 52.716-20.553 14.097-47.241 21.104-80.067 21.104-23.854 0-43.162-3.53-57.868-10.45-14.646-6.978-26.052-15.892-34.1-26.634-8.134-10.737-15.632-24.137-22.608-40.204-5.673-13.522-12.592-23.679-20.697-30.54-8.048-6.919-17.975-10.308-29.671-10.308-14.388 0-26.287 4.369-35.607 13.258-9.32 8.772-13.982 19.368-13.982 31.7 0 21.333 7.784 43.276 23.301 65.799 15.575 22.523 35.807 40.585 60.645 54.072 35.114 18.788 79.638 28.17 133.625 28.17 45.012 0 83.919-6.836 116.775-20.641z"
                                                        fill="#404040"></path>
                                                </svg></span></td>
                                    </tr>
                                </table>
                            </td>
                            <td valign="middle" style="margin: 0.1px; padding: 0px;">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 2px; font: 14.8px / 18.8px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(5, 135, 137); font-weight: 600; cursor: pointer;">Oleen
                                                Patterson</span><!----><!----></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 5px; font: 12.3px / 15.7px Verdana, Geneva, sans-serif; color: rgb(64, 64, 64);">
                                            <span style="cursor: pointer;">Gynecologist </span><!----><span
                                                style="cursor: pointer;"></span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 12.3px / 15.7px Verdana, Geneva, sans-serif; color: rgb(64, 64, 64);">
                                            <!----><span
                                                style="color: rgb(64, 64, 64); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">230
                                                355 9875</span><!----><!----><span
                                                style="color: rgb(64, 64, 64); text-decoration: none; font-family: Verdana, Geneva, sans-serif;"></span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 12.3px / 15.7px Verdana, Geneva, sans-serif; color: rgb(64, 64, 64);">
                                            <!----><span
                                                style="color: rgb(64, 64, 64); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">name@example.com</span><!----><!---->
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 12.3px / 15.7px Verdana, Geneva, sans-serif; color: rgb(64, 64, 64);">
                                            <!----><span
                                                style="color: rgb(64, 64, 64); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">mysignature.io</span><!----><!---->
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 12.3px / 15.7px Verdana, Geneva, sans-serif; color: rgb(64, 64, 64);">
                                            <!----><span style="color: rgb(64, 64, 64);">555 Maple Lane, Toronto,
                                                Canada</span><!----><!----></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr><!---->
        </table>
        <div>
            <table width="500" cellpadding="0" style="border-collapse: collapse;"><!---->
                <tr>
                    <td style="padding: 25px 0px 0px; margin: 0.1px; cursor: pointer;"><span><img
                                src="https://img.mysignature.io/a/v1/f/5/7/f57b15d0-56e4-59d1-8db9-b196e4db229e.png"
                                alt="Meet me on Zoom" width="163" style="display: block;"></span></td>
                </tr>
            </table>
            <table width="413" cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td
                        style="margin: 0.1px; padding: 15px 0px 0px; font: 12.1px / 15.3px Verdana, Geneva, sans-serif; color: rgb(64, 64, 64); cursor: pointer;">
                        IMPORTANT: The contents of this email and any attachments are confidential. It is strictly
                        forbidden to share any part of this message with any third party, without a written consent of
                        the sender. If you received this message by mistake, please reply to this message and follow
                        with its deletion, so that we can ensure such a mistake does not occur in the future.</td>
                </tr>
            </table><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template141',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
                type: {
            type: String,
            default: 'preview' // editing | preview
        },
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
         initEditingStore() {
            if (this.type === 'preview') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = data
            }

            if (this.type === 'editing') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = useEditingStore()
                this.editing.init(data);
            }

        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>