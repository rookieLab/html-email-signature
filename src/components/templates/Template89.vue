<template>
    <div><!---->
        <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 13.4px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td valign="top" style="margin: 0.1px; padding: 0px; cursor: pointer;"><img
                                    src="https://img.mysignature.io/p/3/8/7/3873803d-418b-5483-b401-06e1c71ba398.png?time=1709215909"
                                    width="153" alt=" &quot;created with MySignature.io&quot;"
                                    style="display: block; min-width: 153px;"></td>
                            <td valign="top"
                                style="margin: 0.1px; padding: 0px 0px 0px 15px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 5px; font: 16.1px / 20.5px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="font-weight: 600; color: rgb(69, 129, 149); cursor: pointer;">Robert
                                                Davis</span><!----><!---->&nbsp;<span
                                                style="font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">Real
                                                Estate Agent</span></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 5px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span style="cursor: pointer;"><span style="color: rgb(0, 0, 1);">Blue Sky
                                                    Realty</span></span><!----><!----></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(69, 129, 149); font-weight: 600;">....................&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;"></span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(69, 129, 149); font-weight: 600;">E:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">robert@mysignature.io</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(69, 129, 149); font-weight: 600;">A:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1);">10 California st, fl 6</span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(69, 129, 149); font-weight: 600;">P:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">733
                                                663 33</span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(69, 129, 149); font-weight: 600;">W:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">mysignature.io</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(69, 129, 149); font-weight: 600;">....................&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 8px 0px 3px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            Follow us:</td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <table cellpadding="0" style="border-collapse: collapse;">
                                                <tr>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 50%; width: 26px; height: 26px; display: block; text-align: center; background-color: rgb(215, 74, 45); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.2px; width: 15.6px;">
                                                                <path
                                                                    d="M740.865 769.637c-316.704 18.968-661.114 133.63-697.431 149.614l42.156-118.881c107.458-49.7 374.035-147.867 702.717-171.31-6.394 24.296-40.963 113.852-47.953 140.023l0.512 0.554v-0.001zM853.779 449.566c0 0-15.473 32.608-30.221 77.321-125.914 7.673-325.442 49.189-422.627 84.398 50.554-46.035 370.241-367.002 370.241-367.002 123.315 84.355 251.829 188.573 251.829 188.573l-169.222 16.71zM105.71 463.632c70.203-31.969 267.046-91.474 455.448-135.591 0 0-362.185 334.393-462.865 437.972l83.119-225.060c-64.62 9.591-93.093 13.427-181.412 31.969l105.668-108.737 0.043-0.554-0.001 0.001zM557.536 104.218c31.286 15.302 147.056 93.988 188.36 123.101-131.967 3.154-389.38 60.058-496.667 95.906 88.021-66.836 251.615-193.091 308.307-219.434v0.427z"
                                                                    fill="#FFFFFF"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 50%; width: 26px; height: 26px; display: block; text-align: center; background-color: rgb(215, 74, 45); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.2px; width: 15.6px;">
                                                                <path
                                                                    d="M511.5 0c-162.401 0.895-267.302 109.973-267.302 274.719 0 136.443 89.001 253.193 139.683 430.513 29.156 101.661 44.841 226.040 52.94 317.77h149.358c8.184-91.729 23.785-216.109 52.897-317.77 50.682-177.32 139.683-294.028 139.683-430.513 0.043-164.746-104.858-273.824-267.259-274.719v0zM512.353 419.942c-67.518 0-122.292-54.815-122.292-122.292 0-67.433 54.774-122.206 122.292-122.206 67.561 0 122.292 54.688 122.292 122.206s-54.774 122.292-122.292 122.292v0z"
                                                                    fill="#FFFFFF"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 13.4px / 17.1px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 50%; width: 26px; height: 26px; display: block; text-align: center; background-color: rgb(215, 74, 45); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.2px; width: 15.6px;">
                                                                <path
                                                                    d="M512 32l512 505.946h-123.139v454.054h-777.722v-454.054h-123.139l512-505.946zM654.629 292.308c-45.714 0-82.286 25.846-102.4 47.077-20.114 20.308-56.686 66.462-74.057 138.462v0h-1.829l1.829-164.308c0-5.538 0-8.308-8.229-8.308v0h-178.286v2.769c9.143 1.846 22.857 1.846 37.486 12.923 13.714 10.154 20.114 18.462 24.686 46.154 3.657 22.154 1.829 91.385 1.829 115.385v250.154c0 38.769 2.743 87.692-4.571 116.308-7.314 38.769-15.543 43.385-45.714 56.308-10.057 4.615-15.543 5.538-21.029 7.385v0 2.769h265.143v-2.769c-6.4-1.846-10.971-2.769-21.029-7.385-29.257-12.923-39.314-17.538-46.629-56.308-7.314-28.615-4.571-77.538-4.571-116.308v0l0.007-94.226c0.087-36.807 0.999-96.481 2.736-107.004 8.229-97.846 68.571-168.923 94.171-168.923s22.857 12 32.914 37.846c10.057 27.692 29.257 42.462 63.086 42.462 45.714 0 66.743-33.231 65.829-66.462 0-30.462-9.143-49.846-20.114-60.923-15.543-17.538-40.229-23.077-61.257-23.077z"
                                                                    fill="#FFFFFF"></path>
                                                            </svg></span></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr><!---->
        </table>
        <div>
            <table width="500" cellpadding="0" style="border-collapse: collapse;"><!---->
                <tr>
                    <td style="padding: 20px 0px 0px; margin: 0.1px; cursor: pointer;"><span><img
                                src="https://img.mysignature.io/a/v1/b/8/a/b8a97c80-7fc7-5518-9832-ef8d30a2382b.png"
                                alt="Meet me on Skype" width="167" style="display: block;"></span></td>
                </tr>
            </table>
            <table width="392" cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td
                        style="margin: 0.1px; padding: 15px 0px 0px; font: 12.1px / 15.3px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 0); cursor: pointer;">
                        Bloe Sky Realty is compliant with the GDPR regulation on data protection and privacy in the
                        European Union and the European Economic Area. You can request the information on how we collect
                        and process your private data according to the law by contacting the email sender.</td>
                </tr>
            </table><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template89',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
        initEditingStore() {
            // 先从props 中获取数据，
            let data = this.data
            console.log(this.$options.name + "data", data)

            // 如果props 中没有数据，看看用户有没有保存过自定义数据
            if (!data) {
                data = this.store.loadTemplateByName(this.$options.name);
            }

            // 使用默认数据
            if (!data) {
                data = this.templates.getTemplate(this.$options.name)
            }
            this.editing.init(data);
        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        this.editing = useEditingStore()
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>