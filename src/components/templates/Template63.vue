<template>
    <div><!---->
        <table cellpadding="0" width="400" style="border-collapse: collapse; font-size: 12.6px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px; cursor: pointer;"><img
                        src="https://img.mysignature.io/p/0/3/b/03b00d76-00f1-5340-8979-92b160eac6f0.png?time=1685569257"
                        width="131" alt=" &quot;created with MySignature.io&quot;"
                        style="display: block; min-width: 131px;"></td>
            </tr>
            <tr>
                <td
                    style="margin: 0.1px; padding: 10px 10px 0px 0px; font: 16.4px / 20.9px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1); letter-spacing: 0.4pt; cursor: pointer;">
                    <span
                        style="font-weight: 600; color: rgb(74, 144, 226); text-transform: uppercase; cursor: pointer;">Steve
                        Burnett</span><!----><!----></td>
            </tr>
            <tr>
                <td
                    style="margin: 0.1px; padding: 5px 0px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1);">
                    <span style="cursor: pointer;">Senior Legal Counsel at</span>&nbsp;<span
                        style="cursor: pointer;">Legalead</span></td>
            </tr>
            <tr>
                <td style="margin: 0.1px; padding: 15px 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td height="1"
                                style="margin: 0.1px; padding: 0px; border-top: 2px solid rgb(74, 144, 226); font: 1px / 1px Arial, Helvetica, sans-serif; width: 30px;">
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr style="cursor: pointer;">
                <td
                    style="margin: 0.1px; padding: 1px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1);">
                    <span style="font-weight: 600;">M:&nbsp;</span><span
                        style="color: rgb(0, 0, 1); text-decoration: none; font-family: Arial, Helvetica, sans-serif;">350-540-54</span>
                </td>
            </tr>
            <tr style="cursor: pointer;">
                <td
                    style="margin: 0.1px; padding: 1px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1);">
                    <span style="font-weight: 600;">T:&nbsp;</span><span
                        style="color: rgb(0, 0, 1); text-decoration: none; font-family: Arial, Helvetica, sans-serif;">436-547-13</span>
                </td>
            </tr>
            <tr style="cursor: pointer;">
                <td
                    style="margin: 0.1px; padding: 1px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1);">
                    <span style="font-weight: 600;">E:&nbsp;</span><span
                        style="color: rgb(0, 0, 1); text-decoration: none; font-family: Arial, Helvetica, sans-serif;">steave@mysignature.io</span>
                </td>
            </tr>
            <tr style="cursor: pointer;">
                <td
                    style="margin: 0.1px; padding: 1px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1);">
                    <span style="font-weight: 600;">W:&nbsp;</span><span
                        style="color: rgb(0, 0, 1); text-decoration: none; font-family: Arial, Helvetica, sans-serif;">mysignature.io</span>
                </td>
            </tr>
            <tr style="cursor: pointer;">
                <td
                    style="margin: 0.1px; padding: 1px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1);">
                    <span style="font-weight: 600;">A:&nbsp;</span><span style="color: rgb(0, 0, 1);">Maine, 435 Avalon
                        st, fl 6</span></td>
            </tr><!---->
            <tr>
                <td
                    style="margin: 0.1px; padding: 12px 0px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1);">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td
                                style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                <span
                                    style="border-radius: 15%; width: 21px; height: 21px; display: block; text-align: center; background-color: rgb(74, 144, 226); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                        viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                        style="position: relative; top: 4.2px; width: 12.6px;">
                                        <path
                                            d="M511.416 778.632c-57.629-72.292-91.516-135.633-102.812-189.895-11.21-43.733-6.777-78.728 12.404-105.028 20.332-30.263 50.596-44.969 90.365-44.969s69.991 14.706 90.323 45.268c19.010 26.002 23.785 61.039 12.191 105.028-12.404 55.327-46.248 118.668-102.769 189.938l0.298-0.342zM920.488 827.224c-7.885 53.068-44.074 97.1-93.775 118.583-95.949 41.772-190.961-24.851-272.289-115.215 134.482-168.369 159.332-299.441 101.618-384.222-33.887-48.593-82.395-72.249-144.627-72.249-125.445 0-194.413 106.136-167.304 229.323 15.772 66.666 57.587 142.453 124.252 227.191-41.772 46.206-81.372 79.070-116.366 99.402-27.11 14.663-53.068 23.742-77.919 25.916-114.108 17.007-203.577-93.69-162.956-207.882 5.627-14.706 16.837-41.772 36.018-83.587l1.066-2.259c62.36-135.377 138.105-289.254 225.145-459.924l2.259-5.627 24.723-47.527c19.181-35.038 27.067-50.723 57.587-70.033 14.706-8.908 32.779-13.384 53.068-13.384 40.664 0 72.334 23.742 85.889 42.881 6.734 10.187 14.706 23.742 24.808 40.621l23.785 46.376 3.41 6.777c86.955 170.585 162.785 324.163 224.889 459.882l1.108 1.066 22.719 52.002 13.555 32.565c10.358 26.087 12.532 52.045 9.079 79.155l0.26 0.168zM972.447 725.393c-7.928-24.851-21.483-54.176-38.363-89.214v-1.279c-80.433-170.713-155.155-324.163-226.083-462.056l-4.731-6.905c-50.554-103.664-86.742-165.939-191.856-165.939-103.92 0-148.079 72.206-193.219 166.11l-3.453 6.82c-71.099 137.849-145.778 291.512-225.955 462.141v2.259l-23.785 51.96c-8.951 21.483-13.512 32.736-14.706 36.104-57.544 158.224 61.039 297.182 204.6 297.182 1.151 0 5.627 0 11.253-1.151h15.857c74.594-9.079 151.447-56.478 229.408-141.345 77.919 84.738 154.857 132.266 229.323 141.345h15.857c5.627 1.151 10.145 1.151 11.253 1.151 143.561 0.128 262.144-138.957 204.6-297.182v-0.001z"
                                            fill="#ffffff"></path>
                                    </svg></span></td>
                            <td
                                style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                <span
                                    style="border-radius: 15%; width: 21px; height: 21px; display: block; text-align: center; background-color: rgb(74, 144, 226); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                        viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                        style="position: relative; top: 4.2px; width: 12.6px;">
                                        <path
                                            d="M1024 512.329c0-282.951-229.23-512.329-512-512.329s-512 229.378-512 512.329c0 255.715 187.23 467.671 432 506.101v-358.005h-130v-148.096h130v-112.872c0-128.403 76.44-199.328 193.39-199.328 56 0 114.61 10.006 114.61 10.006v126.081h-64.56c-63.6 0-83.44 39.496-83.44 80.052v96.061h142l-22.7 148.096h-119.3v358.005c244.77-38.43 432-250.386 432-506.101z"
                                            fill="#ffffff"></path>
                                    </svg></span></td>
                            <td
                                style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                <span
                                    style="border-radius: 15%; width: 21px; height: 21px; display: block; text-align: center; background-color: rgb(74, 144, 226); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                        viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                        style="position: relative; top: 4.2px; width: 12.6px;">
                                        <path
                                            d="M365.714 327.385h202.407v104.748h2.894c28.16-50.993 97.095-104.748 199.819-104.748 213.653 0 253.166 134.28 253.166 308.924v355.692h-210.983v-315.321c0-75.212-1.525-171.953-109.746-171.953-109.883 0-126.651 81.907-126.651 166.491v320.783h-210.905v-664.615zM0 327.385h219.429v664.615h-219.429v-664.615zM219.429 142.769c0 61.176-49.121 110.769-109.714 110.769s-109.714-49.593-109.714-110.769c0-61.176 49.121-110.769 109.714-110.769s109.714 49.593 109.714 110.769z"
                                            fill="#ffffff"></path>
                                    </svg></span></td>
                            <td
                                style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 12.6px / 16.1px Arial, Helvetica, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                <span
                                    style="border-radius: 15%; width: 21px; height: 21px; display: block; text-align: center; background-color: rgb(74, 144, 226); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                        viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                        style="position: relative; top: 4.2px; width: 12.6px;">
                                        <path
                                            d="M1022.702 418.407l-511.202-312.995-175.615 107.586v-107.586h-160.1v205.41l-175.616 107.586 83.587 136.486 92.070-56.052v418.834h671.301v-418.834l92.027 56.052 83.545-136.486z"
                                            fill="#ffffff"></path>
                                    </svg></span></td>
                        </tr>
                    </table>
                </td>
            </tr><!---->
        </table>
        <div>
            <table cellpadding="0" width="500"
                style="width: 500px; color: rgb(128, 128, 128); line-height: 1; font-size: 14.1px; border-collapse: collapse;">
                <tr style="cursor: pointer;">
                    <td width="30" height="30" align="center"
                        style="padding: 5px 0px 0px; margin: 0.1px; min-width: 30px;"><svg viewBox="0 0 1024 1024"
                            xmlns="http://www.w3.org/2000/svg" style="width: 19.5px;">
                            <path
                                d="M757.864 0c21.688 0 39.268 17.58 39.268 39.268v0 39.267h51.047c86.609 0 157.070 70.462 157.070 157.070v0 223.825c0 21.687-17.58 39.268-39.267 39.268s-39.268-17.58-39.268-39.268v0-223.825c0-43.304-35.231-78.535-78.535-78.535v0h-51.047v39.268c0 21.687-17.58 39.267-39.268 39.267s-39.268-17.58-39.268-39.267v0-39.268h-178.668v39.268c0 21.687-17.58 39.267-39.267 39.267s-39.268-17.58-39.268-39.267v0-39.268h-176.704v39.268c0 21.687-17.58 39.267-39.268 39.267s-39.267-17.58-39.267-39.267v0-39.268h-49.085c-43.304 0-78.535 35.231-78.535 78.535v0 612.574c0 43.304 35.231 78.535 78.535 78.535v0h300.397c21.687 0 39.268 17.58 39.268 39.268s-17.58 39.267-39.268 39.267v0h-300.397c-86.608 0-157.070-70.461-157.070-157.070v0-612.574c0-86.608 70.462-157.070 157.070-157.070v0h49.085v-39.267c0-21.688 17.58-39.268 39.267-39.268s39.268 17.58 39.268 39.268v0 39.267h176.704v-39.267c0-21.688 17.58-39.268 39.268-39.268s39.267 17.58 39.267 39.268v0 39.267h178.668v-39.267c0-21.688 17.58-39.268 39.268-39.268zM767.681 530.112c130.997 0 237.569 106.572 237.569 237.569s-106.572 237.569-237.569 237.569c-130.997 0-237.569-106.572-237.569-237.569s106.572-237.569 237.569-237.569zM767.681 608.647c-87.691 0-159.034 71.342-159.034 159.034s71.343 159.034 159.034 159.034c87.691 0 159.034-71.342 159.034-159.034s-71.343-159.034-159.034-159.034zM767.681 647.915c21.687 0 39.268 17.58 39.268 39.268v0 41.231h17.67c21.687 0 39.267 17.58 39.267 39.268s-17.58 39.268-39.267 39.268v0h-56.938c-21.687 0-39.268-17.58-39.268-39.268v0-80.498c0-21.688 17.58-39.268 39.268-39.268zM245.422 714.67c21.687 0 39.268 17.581 39.268 39.268s-17.58 39.268-39.268 39.268c-21.687 0-39.267-17.581-39.267-39.268s17.58-39.268 39.267-39.268zM416.236 714.67c21.687 0 39.268 17.581 39.268 39.268s-17.58 39.268-39.268 39.268c-21.687 0-39.267-17.581-39.267-39.268s17.58-39.268 39.267-39.268zM416.236 543.856c21.687 0 39.268 17.581 39.268 39.268s-17.58 39.268-39.268 39.268c-21.687 0-39.267-17.58-39.267-39.268s17.58-39.268 39.267-39.268zM245.422 543.856c21.687 0 39.268 17.581 39.268 39.268s-17.58 39.268-39.268 39.268c-21.687 0-39.267-17.58-39.267-39.268s17.58-39.268 39.267-39.268zM757.864 373.042c21.687 0 39.268 17.58 39.268 39.267s-17.581 39.268-39.268 39.268c-21.687 0-39.268-17.58-39.268-39.268s17.581-39.267 39.268-39.267zM587.050 373.042c21.687 0 39.268 17.58 39.268 39.267s-17.58 39.268-39.268 39.268c-21.687 0-39.268-17.58-39.268-39.268s17.581-39.267 39.268-39.267zM245.422 373.042c21.687 0 39.268 17.58 39.268 39.267s-17.58 39.268-39.268 39.268c-21.687 0-39.267-17.58-39.267-39.268s17.58-39.267 39.267-39.267zM416.236 373.042c21.687 0 39.268 17.58 39.268 39.267s-17.58 39.268-39.268 39.268c-21.687 0-39.267-17.58-39.267-39.268s17.58-39.267 39.267-39.267z"
                                fill="#017de8"></path>
                        </svg></td>
                    <td
                        style="font-family: Arial, Helvetica, sans-serif; font-size: 14.1px; padding: 5px 0px 0px; margin: 0.1px;">
                        <span>Book a meeting&nbsp;</span><span
                            style="text-decoration: none; font-size: 14.1px; color: rgb(1, 125, 232);">here</span></td>
                </tr>
            </table><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template63',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
                type: {
            type: String,
            default: 'preview' // editing | preview
        },
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
         initEditingStore() {
            if (this.type === 'preview') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = data
            }

            if (this.type === 'editing') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = useEditingStore()
                this.editing.init(data);
            }

        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>