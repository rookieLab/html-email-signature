<template>
    <div>
        <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 12.8px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td valign="top" style="margin: 0.1px; padding: 0px; cursor: pointer;"><img
                                    src="https://img.mysignature.io/p/4/8/5/485722b4-b7a2-51cb-a783-858916941755.png?time=1685569257"
                                    width="100" alt=" &quot;created with MySignature.io&quot;"
                                    style="display: block; min-width: 100px;"></td>
                            <td valign="top"
                                style="margin: 0.1px; padding: 0px 0px 0px 15px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 5px; font: 15.4px / 19.5px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span
                                                style="font-weight: 600; color: rgb(157, 154, 146); cursor: pointer;">Jevan
                                                Ortiz</span>&nbsp;<span
                                                style="font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">Sales
                                                Manager | Cozad</span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(157, 154, 146); font-weight: 600;">e:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: &quot;Courier New&quot;, Courier, monospace;">ortiz@mysignature.io</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(157, 154, 146); font-weight: 600;">w:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: &quot;Courier New&quot;, Courier, monospace;">mysignature.io</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(157, 154, 146); font-weight: 600;">p:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: &quot;Courier New&quot;, Courier, monospace;">+756-23-5473</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 2px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(157, 154, 146); font-weight: 600;">a:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1);">55 Halsey St Brooklyn, NY 11216</span></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 8px 0px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <table cellpadding="0" style="border-collapse: collapse;">
                                                <tr>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 15%; width: 21px; height: 21px; display: block; text-align: center; background-color: rgb(212, 210, 190); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.2px; width: 12.6px;">
                                                                <path
                                                                    d="M1024 512.329c0-282.951-229.23-512.329-512-512.329s-512 229.378-512 512.329c0 255.715 187.23 467.671 432 506.101v-358.005h-130v-148.096h130v-112.872c0-128.403 76.44-199.328 193.39-199.328 56 0 114.61 10.006 114.61 10.006v126.081h-64.56c-63.6 0-83.44 39.496-83.44 80.052v96.061h142l-22.7 148.096h-119.3v358.005c244.77-38.43 432-250.386 432-506.101z"
                                                                    fill="#ffffff"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 15%; width: 21px; height: 21px; display: block; text-align: center; background-color: rgb(212, 210, 190); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.2px; width: 12.6px;">
                                                                <path
                                                                    d="M934.337 501.609c0 32.105-3.53 63.312-10.191 93.506 17.023 33.807 26.604 71.934 26.604 112.201 0 139.586-114.688 252.684-256.215 252.684-43.827 0-85.051-18.091-121.149-37.196-26.2 4.774-53.233 7.295-80.881 7.295-244 0-441.773-187.816-441.773-428.49 0-29.99 3.068-59.285 8.944-87.566-22.319-37.547-35.2-81.199-35.2-127.805 0-139.587 114.692-252.714 256.247-252.714 50.078 0 96.802 14.242 136.282 38.79 24.548-4.169 49.792-6.369 75.524-6.369 244.034 0 441.807 195.080 441.807 435.664zM619.203 736.412c32.851-13.692 57.807-32.739 74.859-56.969 16.994-24.259 25.561-51.614 25.551-82.013 0-25.42-4.949-46.87-14.765-64.356-9.811-17.54-23.532-32.071-41.048-43.535-17.54-11.375-38.849-21.131-63.829-29.15-25.015-7.991-52.946-15.342-83.749-21.973-24.659-5.733-42.35-10.045-53.031-13.027-10.681-3.037-21.276-7.148-31.667-12.417-10.506-5.24-18.729-11.466-24.662-18.846-5.933-7.323-8.974-16.065-8.974-26.081 0-16.239 8.799-30.192 26.342-41.712 17.543-11.606 40.644-17.34 69.216-17.34 30.857 0 53.204 5.326 67.16 15.979 13.951 10.624 25.849 25.444 35.835 44.434 7.675 13.288 14.824 22.841 21.421 28.688 6.602 5.816 16.243 8.77 28.95 8.77 13.926 0 25.561-4.89 34.884-14.617 9.318-9.699 13.951-20.7 13.951-32.828 0-13.199-3.73-26.92-11.201-40.816-7.441-13.982-19.28-27.295-35.465-40.005-16.15-12.71-36.44-22.898-60.962-30.6-24.517-7.612-53.58-11.463-87.162-11.463-42 0-78.592 5.762-109.682 17.339-31.146 11.581-54.854 28.11-71.268 49.646-16.443 21.508-24.634 46.084-24.634 73.816 0 29.034 7.759 53.35 23.333 72.976 15.518 19.54 36.59 34.968 63.077 46.346 26.456 11.288 59.37 21.246 98.653 29.672 29.409 6.164 52.859 12.010 70.374 17.54 17.54 5.471 31.842 13.434 42.93 23.854 11.059 10.333 16.613 23.966 16.613 40.643 0 21.046-10.303 38.678-30.798 52.716-20.553 14.097-47.241 21.104-80.067 21.104-23.854 0-43.162-3.53-57.868-10.45-14.646-6.978-26.052-15.892-34.1-26.634-8.134-10.737-15.632-24.137-22.608-40.204-5.673-13.522-12.592-23.679-20.697-30.54-8.048-6.919-17.975-10.308-29.671-10.308-14.388 0-26.287 4.369-35.607 13.258-9.32 8.772-13.982 19.368-13.982 31.7 0 21.333 7.784 43.276 23.301 65.799 15.575 22.523 35.807 40.585 60.645 54.072 35.114 18.788 79.638 28.17 133.625 28.17 45.012 0 83.919-6.836 116.775-20.641z"
                                                                    fill="#ffffff"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 15%; width: 21px; height: 21px; display: block; text-align: center; background-color: rgb(212, 210, 190); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.2px; width: 12.6px;">
                                                                <path
                                                                    d="M654.906 563.048c11.234 0 118.954 56.172 123.579 64.102 1.322 3.305 1.322 7.27 1.322 9.912 0 16.522-5.287 35.025-11.234 50.225-15.2 37.008-76.659 60.799-114.327 60.799-31.722 0-97.146-27.755-125.561-40.973-94.502-42.955-153.317-116.309-210.151-200.238-25.112-37.008-47.582-82.607-46.919-128.206v-5.287c1.322-43.616 17.182-74.676 48.903-104.415 9.912-9.252 20.487-14.539 34.364-14.539 7.93 0 15.86 1.982 24.452 1.982 17.844 0 21.147 5.287 27.755 22.47 4.625 11.234 38.33 101.111 38.33 107.719 0 25.112-45.599 53.53-45.599 68.73 0 3.305 1.322 6.608 3.305 9.912 14.539 31.060 42.294 66.746 67.407 90.537 30.399 29.078 62.782 48.242 99.79 66.746 4.625 2.643 9.252 4.625 14.539 4.625 19.826 0 52.867-64.102 70.050-64.102l-0.003 0.001zM520.752 913.302c228.655 0 415.016-186.362 415.016-415.017s-186.361-415.016-415.016-415.016c-228.655 0-415.016 186.361-415.016 415.016 0 87.233 27.755 172.484 79.302 243.194l-52.207 153.979 159.927-50.885c67.407 44.278 147.371 68.73 227.995 68.73h-0.001zM520.752-0.001c274.915 0 498.282 223.37 498.282 498.284s-223.368 498.282-498.282 498.282c-83.928 0-167.196-21.147-241.21-62.119l-275.576 88.554 89.876-267.646c-46.919-77.319-71.371-166.535-71.371-257.073 0-274.915 223.368-498.282 498.282-498.282h-0.001z"
                                                                    fill="#ffffff"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 15%; width: 21px; height: 21px; display: block; text-align: center; background-color: rgb(212, 210, 190); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.2px; width: 12.6px;">
                                                                <path
                                                                    d="M519.85 160.015c0.849 0.003 1.763 0.006 2.74 0.009l10.445 0.047c32.116 0.171 97.222 0.754 168.688 2.734l17.984 0.525 18.156 0.587c3.035 0.103 6.074 0.209 9.114 0.317l18.242 0.685c36.455 1.44 72.559 3.302 104.981 5.708 20 2.453 63.6 2.657 102.6 44.352 30.8 31.68 40.8 103.829 40.8 103.829v0l0.268 2.306c1.612 14.109 9.951 90.704 10.132 167.131v0 79.302c0 84.821-10.2 169.437-10.2 169.437s-10 72.149-40.8 103.829c-39 41.695-82.6 41.899-102.6 44.352-24.317 1.77-50.71 3.251-77.773 4.491l-18.126 0.791c-3.032 0.126-6.069 0.249-9.108 0.37l-18.25 0.689c-97.327 3.504-193.246 4.282-224.543 4.448l-5.095 0.025c-0.718 0.003-1.369 0.006-1.951 0.008h-4.71c-19.049-0.186-268.198-2.748-347.044-10.413-22.8-4.497-74-3.066-113-44.761-30.6-31.68-40.6-103.829-40.6-103.829s-10.2-84.821-10.2-169.437l0.031-87.507c0.349-46.459 3.568-92.038 6.292-122.816l0.935-10.225c1.356-14.348 2.462-24.089 2.82-27.157l0.122-1.034c0 0 9.8-72.149 40.6-103.829 39-41.695 82.6-41.899 102.6-44.352 29.721-2.206 62.534-3.954 95.877-5.339l27.346-1.054c88.16-3.149 175.135-3.956 213.942-4.163l10.445-0.047c0.977-0.003 1.891-0.006 2.74-0.009zM406 369.702v294.114l276.6-146.546-276.6-147.568z"
                                                                    fill="#ffffff"></path>
                                                            </svg></span></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <div>
            <table width="500" cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td style="padding: 12px 0px 0px; margin: 0.1px; cursor: pointer;"><span><img
                                src="https://img.mysignature.io/a/v1/a/2/a/a2af7570-7bf9-50e8-9673-9170b2cf670c.png"
                                alt="Meet me on Zoom" width="168" style="display: block;"></span></td>
                </tr>
            </table>
            <table width="500" cellpadding="0" style="border-collapse: collapse;">
                <tr style="cursor: pointer;">
                    <td
                        style="margin: 0.1px; padding: 15px 0px 0px; font: 12.1px / 15.3px &quot;Courier New&quot;, Courier, monospace; color: gray;">
                        Please consider the environment before printing this email</td>
                </tr>
            </table>
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div>
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template40',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
                type: {
            type: String,
            default: 'preview' // editing | preview
        },
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
         initEditingStore() {
            if (this.type === 'preview') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = data
            }

            if (this.type === 'editing') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = useEditingStore()
                this.editing.init(data);
            }

        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>