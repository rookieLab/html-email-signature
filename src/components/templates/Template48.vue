<template>
    <div><!---->
        <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 14.4px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td valign="top" style="margin: 0.1px; padding: 0px 9px 0px 0px; cursor: pointer;"><img
                                    src="https://img.mysignature.io/p/f/3/4/f340abe0-ea46-5d90-82bc-e0a50981024e.png?time=1685569257"
                                    width="154" alt=" &quot;created with MySignature.io&quot;"
                                    style="display: block; min-width: 154px;"></td>
                            <td valign="top"
                                style="border-left: 2px solid rgb(235, 62, 145); margin: 0.1px; padding: 0px 0px 0px 9px;">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px; font: 17.3px / 22.1px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span
                                                style="font: 17.3px / 22.1px &quot;Courier New&quot;, Courier, monospace; color: rgb(235, 62, 145); cursor: pointer;">Anny
                                                Parson</span><!----><!----><!----><span
                                                style="font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 5px 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span style="cursor: pointer;">Anny's Flowers</span><!----><!----></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span style="color: rgb(0, 0, 1);">w:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: &quot;Courier New&quot;, Courier, monospace;">mysignature.io</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span style="color: rgb(0, 0, 1);">e:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: &quot;Courier New&quot;, Courier, monospace;">anny@mysignature.io</span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span style="color: rgb(0, 0, 1);">a:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1);">5th Ave, fl. 3</span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span style="color: rgb(0, 0, 1);">p:&nbsp;</span><span
                                                style="color: rgb(0, 0, 1); text-decoration: none; font-family: &quot;Courier New&quot;, Courier, monospace;">838
                                                3837 3344</span></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <span
                                                style="color: rgb(235, 62, 145); font-weight: 400; cursor: pointer;">Wedding
                                                services</span>&nbsp;<!----></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <!----><!----><span
                                                style="color: rgb(235, 62, 145); font-weight: 400; cursor: pointer;">454
                                                6444 8844</span></td>
                                    </tr><!---->
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 8px 0px 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1);">
                                            <table cellpadding="0" style="border-collapse: collapse;">
                                                <tr>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 29px; height: 29px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.8px; width: 17.4px;">
                                                                <path
                                                                    d="M230.744 894.175c0.225 0.15 0.525 0.075 0.749 0.225 1.823 0.925 3.722 1.6 5.77 1.6 1.099 0 2.198-0.15 3.297-0.45l271.446-74.15 271.446 74.15c1.099 0.3 2.198 0.45 3.297 0.45 2.048 0 3.946-0.675 5.745-1.625 0.25-0.125 0.525-0.075 0.749-0.225l224.79-137.5c4.771-2.925 7.018-8.7 5.495-14.075l-124.484-437.5c-1.024-3.675-3.697-6.675-7.243-8.15-3.547-1.425-7.518-1.2-10.89 0.65l-123.934 69.6c-5.994 3.375-8.142 11-4.771 17.025 3.372 6.050 10.965 8.175 17.034 4.775l110.122-61.875 117.565 413.15-200.188 122.475-47.555-380.775c-0.849-6.875-7.318-11.65-13.962-10.85-6.819 0.85-11.689 7.1-10.84 13.95l47.63 381.475-247.518-67.625v-68.25c0-6.9-5.595-12.5-12.488-12.5s-12.488 5.6-12.488 12.5v68.25l-247.543 67.625 47.63-381.475c0.849-6.85-3.996-13.1-10.84-13.95-6.794-0.8-13.088 3.975-13.962 10.85l-47.531 380.775-200.188-122.45 117.565-413.125 110.122 61.875c6.044 3.35 13.637 1.225 17.034-4.775 3.372-6.025 1.224-13.625-4.771-17.025l-123.959-69.625c-3.322-1.875-7.293-2.125-10.865-0.65-3.547 1.475-6.219 4.45-7.243 8.15l-124.484 437.5c-1.549 5.4 0.699 11.15 5.495 14.075l224.765 137.5zM503.539 680.2c2.398 2.2 5.42 3.3 8.467 3.3 2.997 0 5.994-1.075 8.392-3.225 8.317-7.575 203.909-187.225 203.909-371.775 0-119.175-93.238-212.5-212.301-212.5s-212.301 93.325-212.301 212.5c0 181.35 195.517 364 203.834 371.7zM512.006 121c106.775 0 187.325 80.6 187.325 187.5 0 152.425-149.685 308.425-187.25 345.175-37.49-37.175-187.4-195.225-187.4-345.175 0-106.9 80.55-187.5 187.325-187.5zM624.401 308.5c0-62.025-50.428-112.5-112.395-112.5s-112.395 50.475-112.395 112.5c0 62.025 50.428 112.5 112.395 112.5s112.395-50.475 112.395-112.5zM512.006 396c-48.205 0-87.418-39.25-87.418-87.5s39.213-87.5 87.418-87.5c48.205 0 87.418 39.25 87.418 87.5s-39.213 87.5-87.418 87.5z"
                                                                    fill="#EB3E91"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 29px; height: 29px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1053 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.8px; width: 17.4px;">
                                                                <path
                                                                    d="M529.314 0c-282.77 0-512 229.23-512 512s229.23 512 512 512c282.77 0 512-229.23 512-512s-229.23-512-512-512zM796.625 362.543c26.244-3.104 51.27-10.053 74.533-20.331-17.39 25.922-39.386 48.681-64.758 66.899 0.252 5.533 0.377 11.115 0.377 16.715 0 170.821-130.525 367.774-369.199 367.774-73.275 0-141.499-21.39-198.893-58.078 10.132 1.205 20.486 1.814 30.938 1.814 60.81 0 116.752-20.658 161.171-55.331-56.794-1.050-104.705-38.423-121.215-89.764 7.917 1.504 16.036 2.305 24.415 2.305 11.817 0 23.303-1.571 34.181-4.541-59.351-11.867-104.097-64.102-104.097-126.73 0-0.541 0-1.088 0.010-1.638 17.486 9.708 37.509 15.518 58.768 16.185-34.798-23.175-57.722-62.754-57.722-107.587 0-23.684 6.406-45.902 17.573-64.989 64.005 78.225 159.623 129.679 267.465 135.069-2.226-9.468-3.379-19.327-3.379-29.459 0-71.37 58.111-129.255 129.761-129.255 37.344 0 71.066 15.694 94.738 40.805 29.544-5.796 57.326-16.542 82.4-31.358-9.708 30.2-30.269 55.504-57.066 71.496z"
                                                                    fill="#EB3E91"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 29px; height: 29px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.8px; width: 17.4px;">
                                                                <path
                                                                    d="M654.906 563.048c11.234 0 118.954 56.172 123.579 64.102 1.322 3.305 1.322 7.27 1.322 9.912 0 16.522-5.287 35.025-11.234 50.225-15.2 37.008-76.659 60.799-114.327 60.799-31.722 0-97.146-27.755-125.561-40.973-94.502-42.955-153.317-116.309-210.151-200.238-25.112-37.008-47.582-82.607-46.919-128.206v-5.287c1.322-43.616 17.182-74.676 48.903-104.415 9.912-9.252 20.487-14.539 34.364-14.539 7.93 0 15.86 1.982 24.452 1.982 17.844 0 21.147 5.287 27.755 22.47 4.625 11.234 38.33 101.111 38.33 107.719 0 25.112-45.599 53.53-45.599 68.73 0 3.305 1.322 6.608 3.305 9.912 14.539 31.060 42.294 66.746 67.407 90.537 30.399 29.078 62.782 48.242 99.79 66.746 4.625 2.643 9.252 4.625 14.539 4.625 19.826 0 52.867-64.102 70.050-64.102l-0.003 0.001zM520.752 913.302c228.655 0 415.016-186.362 415.016-415.017s-186.361-415.016-415.016-415.016c-228.655 0-415.016 186.361-415.016 415.016 0 87.233 27.755 172.484 79.302 243.194l-52.207 153.979 159.927-50.885c67.407 44.278 147.371 68.73 227.995 68.73h-0.001zM520.752-0.001c274.915 0 498.282 223.37 498.282 498.284s-223.368 498.282-498.282 498.282c-83.928 0-167.196-21.147-241.21-62.119l-275.576 88.554 89.876-267.646c-46.919-77.319-71.371-166.535-71.371-257.073 0-274.915 223.368-498.282 498.282-498.282h-0.001z"
                                                                    fill="#EB3E91"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 14.4px / 18.3px &quot;Courier New&quot;, Courier, monospace; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 29px; height: 29px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.8px; width: 17.4px;">
                                                                <path
                                                                    d="M682.653 512c0-93.991-76.659-170.654-170.654-170.654s-170.654 76.659-170.654 170.654c0 93.995 76.659 170.654 170.654 170.654s170.654-76.659 170.654-170.654zM774.646 512c0 145.323-117.325 262.645-262.645 262.645s-262.645-117.325-262.645-262.645c0-145.32 117.325-262.645 262.645-262.645s262.645 117.325 262.645 262.645zM846.641 238.688c0 33.997-27.331 61.328-61.328 61.328s-61.328-27.331-61.328-61.328c0-33.996 27.331-61.328 61.328-61.328s61.328 27.331 61.328 61.328v0zM512 92.033c-74.66 0-234.647-5.999-301.975 20.666-23.331 9.332-40.662 20.666-58.661 38.662s-29.33 35.33-38.662 58.661c-26.666 67.328-20.666 227.315-20.666 301.975s-5.999 234.647 20.666 301.975c9.332 23.331 20.666 40.662 38.662 58.661s35.33 29.33 58.661 38.662c67.328 26.666 227.315 20.666 301.975 20.666s234.647 5.999 301.975-20.666c23.331-9.332 40.662-20.666 58.661-38.662s29.33-35.33 38.662-58.661c26.666-67.328 20.666-227.315 20.666-301.975s5.999-234.647-20.666-301.975c-9.332-23.331-20.666-40.662-38.662-58.661s-35.33-29.33-58.661-38.662c-67.328-26.666-227.315-20.666-301.975-20.666zM1023.958 512c0 70.66 0.667 140.655-3.332 211.316-4 81.995-22.666 154.655-82.66 214.651s-132.656 78.66-214.651 82.66c-70.66 4-140.655 3.332-211.316 3.332s-140.655 0.667-211.316-3.332c-81.995-4-154.655-22.666-214.651-82.66s-78.66-132.656-82.66-214.651c-4-70.66-3.332-140.655-3.332-211.316s-0.667-140.655 3.332-211.316c4-81.995 22.666-154.655 82.66-214.651s132.656-78.66 214.651-82.66c70.66-4 140.655-3.332 211.316-3.332s140.655-0.667 211.316 3.332c81.995 4 154.655 22.666 214.651 82.66s78.66 132.656 82.66 214.651c4 70.66 3.332 140.655 3.332 211.316z"
                                                                    fill="#EB3E91"></path>
                                                            </svg></span></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr><!---->
        </table>
        <div>
            <table width="500" cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td style="padding: 9px 10px 0px 0px; margin: 0.1px; cursor: pointer;"><span><img
                                alt="Two Hours Delivery. Order Now"
                                src="https://img.mysignature.io/a/v1/9/e/b/9eb34636-4d7a-5852-ab15-26862e7ac4a3.png"
                                style="max-width: 490px; display: block;" width="313"></span></td>
                </tr>
            </table><!----><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template48',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
        initEditingStore() {
            // 先从props 中获取数据，
            let data = this.data
            console.log(this.$options.name + "data", data)

            // 如果props 中没有数据，看看用户有没有保存过自定义数据
            if (!data) {
                data = this.store.loadTemplateByName(this.$options.name);
            }

            // 使用默认数据
            if (!data) {
                data = this.templates.getTemplate(this.$options.name)
            }
            this.editing.init(data);
        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        this.editing = useEditingStore()
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>