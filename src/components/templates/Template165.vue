<template>
    <div>
        <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 12.8px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td valign="top" style="margin: 0.1px; padding: 0px 15px 0px 0px; cursor: pointer;"><img
                                    src="https://img.mysignature.io/p/5/5/7/55777b36-a70d-590b-9bd2-46576526197b.png?time=1686263643"
                                    width="131" alt=" &quot;created with MySignature.io&quot;"
                                    style="display: block; min-width: 131px;"></td>
                            <td valign="top" style="margin: 0.1px; padding: 0px;">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 2px; font: 15.4px / 19.5px &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                            <span
                                                style="font-weight: 600; color: rgb(122, 30, 221); cursor: pointer;">LOUIS
                                                MCLAUGHLIN</span></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 8px; font: 600 12.8px / 16.3px &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; color: rgb(27, 14, 1);">
                                            <span style="cursor: pointer;">Podcaster</span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 12.8px / 16.3px &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; color: rgb(27, 14, 1);">
                                            <span
                                                style="color: rgb(27, 14, 1); text-decoration: none; font-family: &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif;">luis@mysignature.io</span>,&nbsp;<span
                                                style="color: rgb(27, 14, 1); text-decoration: none; font-family: &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif;"></span>
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 12.8px / 16.3px &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; color: rgb(27, 14, 1);">
                                            <span
                                                style="color: rgb(27, 14, 1); text-decoration: none; font-family: &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif;">+1
                                                983 333 3739</span></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 10px 0px 0px; font: 12.8px / 16.3px &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; color: rgb(0, 0, 1);">
                                            <table cellpadding="0" style="border-collapse: collapse;">
                                                <tr>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 50%; width: 28px; height: 28px; display: block; text-align: center; background-color: rgb(163, 63, 218); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.6px; width: 16.8px;">
                                                                <path
                                                                    d="M545.302 571.177c27.417-0.217 53.781 10.561 73.206 29.932s30.297 45.723 30.186 73.172v0l-27.599 247.442c2.277 25.7-6.094 51.207-23.152 70.547s-41.304 30.812-67.058 31.729c-26.369-0.645-51.388-11.814-69.49-31.022s-27.787-44.861-26.9-71.255v0l-28.011-247.442c-0.109-27.235 10.593-53.398 29.751-72.733s45.203-30.259 72.406-30.371v0zM527.177 0c228.751-0.27 423.605 166.331 459.144 392.57s-98.829 444.678-316.62 514.719v0l7.826-72.996c176.361-71.712 277.293-258.431 240.802-445.472s-200.183-322.011-390.535-322.011c-190.352 0-354.044 134.971-390.535 322.011s64.441 373.76 240.802 445.472v0l8.238 72.996c-217.495-69.945-351.841-287.911-316.75-513.905s229.187-392.843 457.627-393.384zM529.031 151.007c140.529 0 263.791 93.872 301.303 229.461s-19.945 279.576-140.448 351.962v0l7.415-85.368c74.616-70.068 98.978-178.624 61.47-273.913s-129.292-158.021-231.593-158.286c-102.001 0.935-193.172 63.91-230.257 159.046s-12.623 203.292 61.782 273.153v0l9.474 85.368c-120.503-72.386-177.96-216.373-140.448-351.962s160.774-229.461 301.303-229.461zM527.177 317.139c44.521 0 84.651 26.873 101.65 68.070s7.513 88.59-24.027 120.049c-31.54 31.459-78.913 40.778-119.997 23.604s-67.775-57.45-67.609-102.024c0.228-60.652 49.402-109.699 109.983-109.699z"
                                                                    fill="#ffffff"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 50%; width: 28px; height: 28px; display: block; text-align: center; background-color: rgb(0, 0, 0); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.6px; width: 16.8px;">
                                                                <path
                                                                    d="M959.851 414.292c-8.556 0.813-17.146 1.239-25.742 1.277-94.288 0.013-182.228-46.466-233.877-123.613v420.932c0 171.822-142.425 311.111-318.116 311.111s-318.116-139.289-318.116-311.111c0-171.822 142.425-311.111 318.116-311.111 6.641 0 13.132 0.584 19.661 0.985v153.312c-6.529-0.766-12.945-1.934-19.661-1.934-89.669 0-162.36 71.090-162.36 158.785s72.691 158.785 162.36 158.785c89.686 0 168.888-69.103 168.888-156.814l1.567-714.895h149.974c14.142 131.528 122.584 234.263 257.455 243.905v170.387z"
                                                                    fill="#ffffff"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 50%; width: 28px; height: 28px; display: block; text-align: center; background-color: rgb(29, 185, 84); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 5.6px; width: 16.8px;">
                                                                <path
                                                                    d="M512 0c-281.6 0-512 230.4-512 512s230.4 512 512 512c281.6 0 512-230.4 512-512s-227.8-512-512-512zM747.6 739.8c-10.2 15.4-28.2 20.4-43.6 10.2-120.4-74.2-271.4-89.6-450.6-48.6-18 5.2-33.2-7.6-38.4-23-5.2-18 7.6-33.2 23-38.4 194.6-43.6 363.6-25.6 496.6 56.4 18 7.6 20.6 28 13 43.4zM809 599c-12.8 18-35.8 25.6-53.8 12.8-138.2-84.4-348.2-110-509.4-58.8-20.4 5.2-43.6-5.2-48.6-25.6-5.2-20.4 5.2-43.6 25.6-48.6 186.8-56.4 417.2-28.2 576 69.2 15.2 7.6 23 33.2 10.2 51v0zM814 455.6c-163.8-97.2-437.8-107.6-594-58.8-25.6 7.6-51.2-7.6-58.8-30.8-7.6-25.6 7.6-51.2 30.8-58.8 181.8-53.8 481.2-43.6 670.8 69.2 23 12.8 30.8 43.6 18 66.6-13 17.8-43.6 25.4-66.8 12.6z"
                                                                    fill="#ffffff"></path>
                                                            </svg></span></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <div>
            <table cellpadding="0" width="500"
                style="width: 500px; color: rgb(6, 184, 68); line-height: 1; font-size: 14.1px; border-collapse: collapse;">
                <tr style="cursor: pointer;">
                    <td
                        style="font-family: &quot;Lucida Sans Unicode&quot;, &quot;Lucida Grande&quot;, sans-serif; font-size: 14.1px; padding: 13px 0px 0px; margin: 0.1px;">
                        <span>?️Have an intresting story to tell?&nbsp;</span></td>
                </tr>
            </table>
            <table width="500" cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td style="padding: 10px 10px 0px 0px; margin: 0.1px; cursor: pointer;"><img
                            alt="Become my next Podcast guest "
                            src="https://img.mysignature.io/a/v1/6/e/f/6ef8ad84-ab94-50db-a989-fb71fe84ae63.png"
                            style="max-width: 490px; display: block;" width="287"></td>
                </tr>
            </table>
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div>
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template165',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
                type: {
            type: String,
            default: 'preview' // editing | preview
        },
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
         initEditingStore() {
            if (this.type === 'preview') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = data
            }

            if (this.type === 'editing') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = useEditingStore()
                this.editing.init(data);
            }

        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>