<template>
    <div>
        <table cellpadding="0" style="border-collapse: collapse;">
            <tr>
                <td style="margin: 0.1px; padding: 10px 0px; cursor: pointer;">
                    <img width="500" :src="editing.Addons?.signOff?.img" alt="Happy Holidays!">
                </td>
            </tr>
        </table>
        <div>
            <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 12.8px;">
                <tr>
                    <td style="margin: 0.1px; padding: 0px;">
                        <table cellpadding="0" style="border-collapse: collapse;">
                            <tr>
                                <td valign="top" style="margin: 0.1px; padding: 0px 12px 0px 0px; cursor: pointer;"><img
                                        src="https://img.mysignature.io/p/7/3/b/73b11b3b-992a-5862-8886-eddac23928d6.png?time=1709023265"
                                        width="145" alt=" &quot;created with MySignature.io&quot;"
                                        style="display: block; min-width: 145px;"></td>
                                <td valign="top"
                                    style="border-left: 1px solid rgb(85, 24, 4); margin: 0.1px; padding: 0px 0px 0px 12px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1);">
                                    <table cellpadding="0" style="border-collapse: collapse;">
                                        <tr>
                                            <td
                                                style="margin: 0.1px; padding: 0px 0px 8px; font: 16.6px / 21.2px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1);">
                                                <span
                                                    style="font-weight: 600; color: rgb(85, 24, 4); cursor: pointer;">Mya
                                                    Butler â™›</span><!----><!---->
                                            </td>
                                        </tr>
                                        <tr>
                                            <td
                                                style="margin: 0.1px; padding: 0px 0px 8px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(157, 83, 83);">
                                                <!----><!----><span
                                                    style="color: rgb(157, 83, 83); cursor: pointer;">Villegas
                                                    Fasion</span><!----><!---->
                                            </td>
                                        </tr>
                                        <tr style="cursor: pointer;">
                                            <td
                                                style="margin: 0.1px; padding: 0px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1);">
                                                <span
                                                    style="color: rgb(85, 24, 4); font-weight: 600;">email:&nbsp;</span><span
                                                    style="color: rgb(157, 83, 83); text-decoration: none; font-family: &quot;Times New Roman&quot;, Times, serif;">mya@villegas.io</span>
                                            </td>
                                        </tr>
                                        <tr style="cursor: pointer;">
                                            <td
                                                style="margin: 0.1px; padding: 0px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1);">
                                                <span
                                                    style="color: rgb(85, 24, 4); font-weight: 600;">website:&nbsp;</span><span
                                                    style="color: rgb(157, 83, 83); text-decoration: none; font-family: &quot;Times New Roman&quot;, Times, serif;">mysignature.io</span>
                                            </td>
                                        </tr>
                                        <tr style="cursor: pointer;">
                                            <td
                                                style="margin: 0.1px; padding: 0px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1);">
                                                <span
                                                    style="color: rgb(85, 24, 4); font-weight: 600;">address:&nbsp;</span><span
                                                    style="color: rgb(157, 83, 83);">987 Comfort Blvd, Paris</span>
                                            </td>
                                        </tr><!---->
                                        <tr>
                                            <td
                                                style="margin: 0.1px; padding: 12px 0px 0px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1);">
                                                <table cellpadding="0" style="border-collapse: collapse;">
                                                    <tr>
                                                        <td
                                                            style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                            <span
                                                                style="border-radius: 50%; width: 25px; height: 25px; display: block; text-align: center; background-color: rgb(208, 149, 149); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                    viewBox="0 0 1024 1024"
                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                    style="position: relative; top: 5px; width: 15px;">
                                                                    <path
                                                                        d="M230.744 894.175c0.225 0.15 0.525 0.075 0.749 0.225 1.823 0.925 3.722 1.6 5.77 1.6 1.099 0 2.198-0.15 3.297-0.45l271.446-74.15 271.446 74.15c1.099 0.3 2.198 0.45 3.297 0.45 2.048 0 3.946-0.675 5.745-1.625 0.25-0.125 0.525-0.075 0.749-0.225l224.79-137.5c4.771-2.925 7.018-8.7 5.495-14.075l-124.484-437.5c-1.024-3.675-3.697-6.675-7.243-8.15-3.547-1.425-7.518-1.2-10.89 0.65l-123.934 69.6c-5.994 3.375-8.142 11-4.771 17.025 3.372 6.050 10.965 8.175 17.034 4.775l110.122-61.875 117.565 413.15-200.188 122.475-47.555-380.775c-0.849-6.875-7.318-11.65-13.962-10.85-6.819 0.85-11.689 7.1-10.84 13.95l47.63 381.475-247.518-67.625v-68.25c0-6.9-5.595-12.5-12.488-12.5s-12.488 5.6-12.488 12.5v68.25l-247.543 67.625 47.63-381.475c0.849-6.85-3.996-13.1-10.84-13.95-6.794-0.8-13.088 3.975-13.962 10.85l-47.531 380.775-200.188-122.45 117.565-413.125 110.122 61.875c6.044 3.35 13.637 1.225 17.034-4.775 3.372-6.025 1.224-13.625-4.771-17.025l-123.959-69.625c-3.322-1.875-7.293-2.125-10.865-0.65-3.547 1.475-6.219 4.45-7.243 8.15l-124.484 437.5c-1.549 5.4 0.699 11.15 5.495 14.075l224.765 137.5zM503.539 680.2c2.398 2.2 5.42 3.3 8.467 3.3 2.997 0 5.994-1.075 8.392-3.225 8.317-7.575 203.909-187.225 203.909-371.775 0-119.175-93.238-212.5-212.301-212.5s-212.301 93.325-212.301 212.5c0 181.35 195.517 364 203.834 371.7zM512.006 121c106.775 0 187.325 80.6 187.325 187.5 0 152.425-149.685 308.425-187.25 345.175-37.49-37.175-187.4-195.225-187.4-345.175 0-106.9 80.55-187.5 187.325-187.5zM624.401 308.5c0-62.025-50.428-112.5-112.395-112.5s-112.395 50.475-112.395 112.5c0 62.025 50.428 112.5 112.395 112.5s112.395-50.475 112.395-112.5zM512.006 396c-48.205 0-87.418-39.25-87.418-87.5s39.213-87.5 87.418-87.5c48.205 0 87.418 39.25 87.418 87.5s-39.213 87.5-87.418 87.5z"
                                                                        fill="#ffffff"></path>
                                                                </svg></span>
                                                        </td>
                                                        <td
                                                            style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                            <span
                                                                style="border-radius: 50%; width: 25px; height: 25px; display: block; text-align: center; background-color: rgb(208, 149, 149); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                    viewBox="0 0 1024 1024"
                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                    style="position: relative; top: 5px; width: 15px;">
                                                                    <path
                                                                        d="M682.653 512c0-93.991-76.659-170.654-170.654-170.654s-170.654 76.659-170.654 170.654c0 93.995 76.659 170.654 170.654 170.654s170.654-76.659 170.654-170.654zM774.646 512c0 145.323-117.325 262.645-262.645 262.645s-262.645-117.325-262.645-262.645c0-145.32 117.325-262.645 262.645-262.645s262.645 117.325 262.645 262.645zM846.641 238.688c0 33.997-27.331 61.328-61.328 61.328s-61.328-27.331-61.328-61.328c0-33.996 27.331-61.328 61.328-61.328s61.328 27.331 61.328 61.328v0zM512 92.033c-74.66 0-234.647-5.999-301.975 20.666-23.331 9.332-40.662 20.666-58.661 38.662s-29.33 35.33-38.662 58.661c-26.666 67.328-20.666 227.315-20.666 301.975s-5.999 234.647 20.666 301.975c9.332 23.331 20.666 40.662 38.662 58.661s35.33 29.33 58.661 38.662c67.328 26.666 227.315 20.666 301.975 20.666s234.647 5.999 301.975-20.666c23.331-9.332 40.662-20.666 58.661-38.662s29.33-35.33 38.662-58.661c26.666-67.328 20.666-227.315 20.666-301.975s5.999-234.647-20.666-301.975c-9.332-23.331-20.666-40.662-38.662-58.661s-35.33-29.33-58.661-38.662c-67.328-26.666-227.315-20.666-301.975-20.666zM1023.958 512c0 70.66 0.667 140.655-3.332 211.316-4 81.995-22.666 154.655-82.66 214.651s-132.656 78.66-214.651 82.66c-70.66 4-140.655 3.332-211.316 3.332s-140.655 0.667-211.316-3.332c-81.995-4-154.655-22.666-214.651-82.66s-78.66-132.656-82.66-214.651c-4-70.66-3.332-140.655-3.332-211.316s-0.667-140.655 3.332-211.316c4-81.995 22.666-154.655 82.66-214.651s132.656-78.66 214.651-82.66c70.66-4 140.655-3.332 211.316-3.332s140.655-0.667 211.316 3.332c81.995 4 154.655 22.666 214.651 82.66s78.66 132.656 82.66 214.651c4 70.66 3.332 140.655 3.332 211.316z"
                                                                        fill="#ffffff"></path>
                                                                </svg></span>
                                                        </td>
                                                        <td
                                                            style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 12.8px / 16.3px &quot;Times New Roman&quot;, Times, serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                            <span
                                                                style="border-radius: 50%; width: 25px; height: 25px; display: block; text-align: center; background-color: rgb(208, 149, 149); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                    viewBox="0 0 1024 1024"
                                                                    xmlns="http://www.w3.org/2000/svg"
                                                                    style="position: relative; top: 5px; width: 15px;">
                                                                    <path
                                                                        d="M925.632 863.595c-112.215 83.848-274.638 128.405-414.657 128.405-196.227 0-372.851-73.316-506.469-195.646-10.401-9.519-1.2-22.684 11.402-15.19 144.22 85.063 322.644 136.101 506.869 136.101 124.217 0 260.836-26.127 386.653-80.203 18.803-8.101 34.805 12.759 16.202 26.532v0zM972.239 809.722c-14.402-18.633-94.813-8.911-131.018-4.456-11.002 1.215-12.602-8.304-2.8-15.392 64.209-45.57 169.423-32.405 181.625-17.215 12.402 15.392-3.2 122.127-63.409 173.165-9.201 7.899-18.002 3.646-14.002-6.684 13.802-34.228 44.006-110.785 29.604-129.418v0zM707.403 734.38l0.2 0.203c24.803-22.076 69.409-61.57 94.613-82.835 10.001-8.101 8.201-21.671 0.4-33.013-22.603-31.595-46.606-57.316-46.606-115.646v-194.43c0-82.43 5.601-157.975-54.207-214.684-47.206-45.772-125.617-61.975-185.625-61.975-117.216 0-248.034 44.354-275.438 190.987-3 15.595 8.401 23.899 18.403 26.127l119.416 13.165c11.202-0.608 19.203-11.747 21.403-23.089 10.201-50.43 52.007-74.937 99.014-74.937 25.403 0 54.207 9.316 69.209 32.405 17.202 25.722 15.002 60.759 15.002 90.532v16.203c-71.41 8.101-164.823 13.367-231.632 43.139-77.211 33.823-131.418 102.684-131.418 203.949 0 129.62 80.611 194.43 184.425 194.43 87.612 0 135.419-20.861 203.028-90.937 22.403 32.81 29.604 48.81 70.61 83.241 9.401 5.063 21.003 4.658 29.204-2.835v0zM583.186 430.177c0 48.608 1.2 89.114-23.003 132.253-19.603 35.241-50.607 56.709-85.212 56.709-47.206 0-74.81-36.456-74.81-90.329 0-106.329 94.213-125.57 183.225-125.57v26.937h-0.2z"
                                                                        fill="#ffffff"></path>
                                                                </svg></span>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; padding-top: 15px; cursor: pointer;"><img
                            src="https://img.mysignature.io/b/7/3/b/73b11b3b-992a-5862-8886-eddac23928d6.png?time=1709023265"
                            valign="top" width="262" alt="created with MySignature.io" style="display: block;"></td>
                </tr>
            </table>
        </div>
        <div><!----><!----><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template9',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
        type: {
            type: String,
            default: 'preview' // editing | preview
        },
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
        initEditingStore() {
            if (this.type === 'preview') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = data
            }

            if (this.type === 'editing') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = useEditingStore()
                this.editing.init(data);
            }

        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();

        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>