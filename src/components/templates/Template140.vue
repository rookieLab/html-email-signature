<template>
    <div>
        <table cellpadding="0" style="border-collapse: collapse;">
            <tr>
                <td style="margin: 0.1px; padding: 10px 0px; cursor: pointer;"><img width="500"
                        src="https://img.mysignature.io/a/v1/c/c/f/ccfcf715-822d-5d22-88eb-cc5bbbddfc22.png"
                        alt="Kind regards,"></td>
            </tr>
        </table>
        <table cellpadding="0" width="500" style="border-collapse: collapse; font-size: 11.7px;">
            <tr>
                <td style="margin: 0.1px; padding: 0px;">
                    <table cellpadding="0" style="border-collapse: collapse;">
                        <tr>
                            <td valign="top" style="margin: 0.1px; padding: 0px 15px 0px 0px; cursor: pointer;"><img
                                    src="https://img.mysignature.io/p/0/3/3/033ff455-74e2-5f72-b210-a9c9d3ff18ee.png?time=1708945032"
                                    width="122" alt=" &quot;created with MySignature.io&quot;"
                                    style="display: block; min-width: 122px;"></td>
                            <td valign="top" style="margin: 0.1px; padding: 0px;">
                                <table cellpadding="0" style="border-collapse: collapse;">
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 2px; font: 14.1px / 17.8px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                            <span style="font-weight: 600; color: rgb(0, 0, 0); cursor: pointer;">DR.
                                                MATTHEW HOWARD</span><!----><!----></td>
                                    </tr>
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 0px 0px 8px; font: 600 11.7px / 14.9px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 0);">
                                            <span style="cursor: pointer;">Cardiologist</span><!----><!----></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 11.7px / 14.9px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 0);">
                                            <span>phone:&nbsp;</span><span
                                                style="color: rgb(0, 0, 0); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">+1
                                                797 607 3422</span>,&nbsp;<span>mobile:&nbsp;</span><span
                                                style="color: rgb(0, 0, 0); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">+1
                                                554 342 9908</span></td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 11.7px / 14.9px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 0);">
                                            <span>email:&nbsp;</span><span
                                                style="color: rgb(0, 0, 0); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">name@example.com</span><!----><!---->
                                        </td>
                                    </tr>
                                    <tr style="cursor: pointer;">
                                        <td
                                            style="margin: 0.1px; padding: 1px 0px; font: 11.7px / 14.9px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 0);">
                                            <span>skype:&nbsp;</span><span
                                                style="color: rgb(0, 0, 0); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">Dr.Matthew</span><!----><!---->
                                        </td>
                                    </tr><!---->
                                    <tr>
                                        <td
                                            style="margin: 0.1px; padding: 10px 0px 0px; font: 11.7px / 14.9px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                                            <table cellpadding="0" style="border-collapse: collapse;">
                                                <tr>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 11.7px / 14.9px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 23px; height: 23px; display: block; text-align: center; background-color: rgb(137, 147, 216); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.6px; width: 13.8px;">
                                                                <path
                                                                    d="M934.337 501.609c0 32.105-3.53 63.312-10.191 93.506 17.023 33.807 26.604 71.934 26.604 112.201 0 139.586-114.688 252.684-256.215 252.684-43.827 0-85.051-18.091-121.149-37.196-26.2 4.774-53.233 7.295-80.881 7.295-244 0-441.773-187.816-441.773-428.49 0-29.99 3.068-59.285 8.944-87.566-22.319-37.547-35.2-81.199-35.2-127.805 0-139.587 114.692-252.714 256.247-252.714 50.078 0 96.802 14.242 136.282 38.79 24.548-4.169 49.792-6.369 75.524-6.369 244.034 0 441.807 195.080 441.807 435.664zM619.203 736.412c32.851-13.692 57.807-32.739 74.859-56.969 16.994-24.259 25.561-51.614 25.551-82.013 0-25.42-4.949-46.87-14.765-64.356-9.811-17.54-23.532-32.071-41.048-43.535-17.54-11.375-38.849-21.131-63.829-29.15-25.015-7.991-52.946-15.342-83.749-21.973-24.659-5.733-42.35-10.045-53.031-13.027-10.681-3.037-21.276-7.148-31.667-12.417-10.506-5.24-18.729-11.466-24.662-18.846-5.933-7.323-8.974-16.065-8.974-26.081 0-16.239 8.799-30.192 26.342-41.712 17.543-11.606 40.644-17.34 69.216-17.34 30.857 0 53.204 5.326 67.16 15.979 13.951 10.624 25.849 25.444 35.835 44.434 7.675 13.288 14.824 22.841 21.421 28.688 6.602 5.816 16.243 8.77 28.95 8.77 13.926 0 25.561-4.89 34.884-14.617 9.318-9.699 13.951-20.7 13.951-32.828 0-13.199-3.73-26.92-11.201-40.816-7.441-13.982-19.28-27.295-35.465-40.005-16.15-12.71-36.44-22.898-60.962-30.6-24.517-7.612-53.58-11.463-87.162-11.463-42 0-78.592 5.762-109.682 17.339-31.146 11.581-54.854 28.11-71.268 49.646-16.443 21.508-24.634 46.084-24.634 73.816 0 29.034 7.759 53.35 23.333 72.976 15.518 19.54 36.59 34.968 63.077 46.346 26.456 11.288 59.37 21.246 98.653 29.672 29.409 6.164 52.859 12.010 70.374 17.54 17.54 5.471 31.842 13.434 42.93 23.854 11.059 10.333 16.613 23.966 16.613 40.643 0 21.046-10.303 38.678-30.798 52.716-20.553 14.097-47.241 21.104-80.067 21.104-23.854 0-43.162-3.53-57.868-10.45-14.646-6.978-26.052-15.892-34.1-26.634-8.134-10.737-15.632-24.137-22.608-40.204-5.673-13.522-12.592-23.679-20.697-30.54-8.048-6.919-17.975-10.308-29.671-10.308-14.388 0-26.287 4.369-35.607 13.258-9.32 8.772-13.982 19.368-13.982 31.7 0 21.333 7.784 43.276 23.301 65.799 15.575 22.523 35.807 40.585 60.645 54.072 35.114 18.788 79.638 28.17 133.625 28.17 45.012 0 83.919-6.836 116.775-20.641z"
                                                                    fill="#FFFFFF"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 11.7px / 14.9px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 23px; height: 23px; display: block; text-align: center; background-color: rgb(137, 147, 216); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.6px; width: 13.8px;">
                                                                <path
                                                                    d="M654.906 563.048c11.234 0 118.954 56.172 123.579 64.102 1.322 3.305 1.322 7.27 1.322 9.912 0 16.522-5.287 35.025-11.234 50.225-15.2 37.008-76.659 60.799-114.327 60.799-31.722 0-97.146-27.755-125.561-40.973-94.502-42.955-153.317-116.309-210.151-200.238-25.112-37.008-47.582-82.607-46.919-128.206v-5.287c1.322-43.616 17.182-74.676 48.903-104.415 9.912-9.252 20.487-14.539 34.364-14.539 7.93 0 15.86 1.982 24.452 1.982 17.844 0 21.147 5.287 27.755 22.47 4.625 11.234 38.33 101.111 38.33 107.719 0 25.112-45.599 53.53-45.599 68.73 0 3.305 1.322 6.608 3.305 9.912 14.539 31.060 42.294 66.746 67.407 90.537 30.399 29.078 62.782 48.242 99.79 66.746 4.625 2.643 9.252 4.625 14.539 4.625 19.826 0 52.867-64.102 70.050-64.102l-0.003 0.001zM520.752 913.302c228.655 0 415.016-186.362 415.016-415.017s-186.361-415.016-415.016-415.016c-228.655 0-415.016 186.361-415.016 415.016 0 87.233 27.755 172.484 79.302 243.194l-52.207 153.979 159.927-50.885c67.407 44.278 147.371 68.73 227.995 68.73h-0.001zM520.752-0.001c274.915 0 498.282 223.37 498.282 498.284s-223.368 498.282-498.282 498.282c-83.928 0-167.196-21.147-241.21-62.119l-275.576 88.554 89.876-267.646c-46.919-77.319-71.371-166.535-71.371-257.073 0-274.915 223.368-498.282 498.282-498.282h-0.001z"
                                                                    fill="#FFFFFF"></path>
                                                            </svg></span></td>
                                                    <td
                                                        style="margin: 0.1px; padding: 0px 4px 0px 0px; font: 11.7px / 14.9px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
                                                        <span
                                                            style="border-radius: 0%; width: 23px; height: 23px; display: block; text-align: center; background-color: rgb(137, 147, 216); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                                                viewBox="0 0 1024 1024"
                                                                xmlns="http://www.w3.org/2000/svg"
                                                                style="position: relative; top: 4.6px; width: 13.8px;">
                                                                <path
                                                                    d="M883.13 99.717c-25.288-23.456-126.473-98.143-352.819-98.991 0 0-266.807-16.208-397.058 104.574-72.514 72.991-97.787 180.525-100.726 313.644-2.513 132.702-5.469 381.899 231.846 449.754v103.263c0 0-1.675 41.376 25.288 49.951 33.301 10.672 52.268-21.328 83.894-55.487l59.017-67.423c162.288 13.664 286.658-17.92 300.962-22.607 32.891-10.672 218.349-34.575 248.695-283.756 31.199-257.293-15.157-419.45-98.64-492.857l-0.459-0.064zM910.963 573.806c-25.288 208.221-175.785 221.485-203.602 230.397-11.791 3.824-121.384 31.167-259.236 22.192 0 0-102.86 125.454-134.897 157.886-5.026 5.536-10.937 7.264-14.746 6.4-5.469-1.28-7.175-8.112-6.764-17.504l0.853-171.549c-201.058-56.319-189.267-268.828-187.165-379.755 2.513-110.942 23.171-201.853 84.305-263.277 110.004-100.687 336.808-85.343 336.808-85.343 191.369 0.416 282.849 58.863 304.36 78.495 70.412 61.023 106.637 207.389 80.085 422.442v-0.384zM623.467 425.712c0 0 0 0 0 0-6.812 0-12.407-5.504-12.644-12.352v-0.032c-2.513-43.967-22.76-65.295-64.501-67.423-6.812-0.352-12.233-6.048-12.233-13.040 0-7.2 5.769-13.040 12.881-13.040 0.205 0 0.442 0 0.648 0.032h-0.032c54.812 2.992 85.569 34.991 88.525 92.191 0.032 0.24 0.032 0.56 0.032 0.864 0 6.928-5.437 12.592-12.233 12.8h-0.442zM688.837 447.904c-6.986 0-12.644-5.712-12.644-12.8v0c0.205-2.816 0.3-6.048 0.3-9.36 0-38.656-14.509-73.903-38.328-100.415l0.111 0.112c-28.354-29.616-67.804-48.255-111.569-49.087h-0.142c-6.638-0.48-11.822-6.016-11.822-12.8 0-7.072 5.674-12.832 12.676-12.832 0.3 0 0.616 0 0.885 0.032h-0.032c54.812 3.824 97.787 23.040 128.544 57.167s46.356 76.815 45.092 127.582c0 7.072-5.643 12.8-12.644 12.8v0l-0.426-0.401zM756.261 474.799c-6.986 0-12.644-5.712-12.644-12.8v0c-0.853-79.359-23.171-139.966-69.116-185.198-42.69-41.968-101.011-67.887-165.338-67.887-1.581 0-3.193 0.032-4.773 0.064h0.237c-6.986 0-12.644-5.712-12.644-12.8v0c0-7.264 5.911-12.8 12.644-12.8 74.616 0 137.853 25.599 188.003 75.087 47.352 49.471 76.545 117.006 76.545 191.421 0 4.112-0.095 8.208-0.269 12.24l0.032-0.592c0 7.072-5.643 12.8-12.644 12.8v0l-0.033 0.464zM549.72 586.189c0 0 17.702 1.696 27.422-10.256l18.966-24.32c8.867-11.936 30.788-19.2 52.268-7.264 34.297 20.239 63.916 41.968 91.275 66.287l-0.648-0.56c13.893 11.936 17.291 29.44 7.602 47.776v0.416c-9.688 17.504-22.76 34.127-39.213 49.087-12.344 11.312-28.386 18.688-46.119 20.048l-0.237 0.032c-5.469 0-10.937-0.864-16.88-2.544v-0.416c-20.247-5.984-53.959-20.496-109.593-51.215-50.972-28.848-94.989-61.855-134.344-99.711l-2.26-2.288-1.675-1.28-1.264-1.696c-37.047-39.392-69.495-83.807-96.095-131.934l-1.675-3.312c-19.014-31.727-36.115-68.367-49.36-106.847l-1.233-4.112-0.853-0.416c-1.612-4.864-2.513-10.464-2.513-16.256 0-2.4 0.174-4.704 0.474-7.024l-0.032 0.272c1.675-13.216 8.013-26.864 19.393-40.559 15.157-17.088 31.199-29.888 48.49-40.111h0.411c18.144-9.808 35.404-6.4 47.194 7.696 23.471 27.023 44.981 57.055 63.442 89.039l1.47 2.72c12.233 21.776 4.22 43.967-7.175 53.343l-23.581 19.2c-12.233 9.392-10.542 27.759-10.542 27.759s34.961 134.846 166.507 168.99l0.378-0.546z"
                                                                    fill="#FFFFFF"></path>
                                                            </svg></span></td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr><!---->
        </table>
        <div>
            <table cellpadding="0" style="border-collapse: collapse;">
                <tr>
                    <td style="padding: 11px 4px 4px 0px; margin: 0.1px;"><span><img
                                src="https://img.mysignature.io/addons/v2/facebook_v1_shape1_b.png" height="35"
                                width="123" alt="facebook" style="display: block;"></span></td>
                    <td style="padding: 11px 4px 4px 0px; margin: 0.1px;"><!----></td>
                    <td style="padding: 11px 4px 4px 0px; margin: 0.1px;"><!----></td>
                </tr>
            </table><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template140',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
                type: {
            type: String,
            default: 'preview' // editing | preview
        },
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
         initEditingStore() {
            if (this.type === 'preview') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = data
            }

            if (this.type === 'editing') {
                let data = this.store.loadTemplateByName(this.$options.name);
                if (!data) {
                    data = this.templates.getTemplate(this.$options.name)
                }
                this.editing = useEditingStore()
                this.editing.init(data);
            }

        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>