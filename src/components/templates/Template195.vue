<template>
    <div><!---->
        <table cellpadding="0" style="border-collapse: collapse; font-size: 11.2px;">
            <tr>
                <td align="center" style="margin: 0.1px; padding: 0px 0px 13px; cursor: pointer;"><img
                        src="https://img.mysignature.io/p/c/d/2/cd2f7a98-ee7e-5e35-8076-ab6e3c3f87f0.png?time=1685569257"
                        width="188" alt=" &quot;created with MySignature.io&quot;"
                        style="display: block; min-width: 188px;"></td>
            </tr>
            <tr>
                <td align="center"
                    style="margin: 0.1px; padding: 0px 0px 5px; font: 14.6px / 18.5px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                    <span style="font-weight: 600; color: rgb(255, 21, 167); cursor: pointer;">KATE WINSORT
                    </span><!----><!----></td>
            </tr>
            <tr>
                <td align="center"
                    style="margin: 0.1px; padding: 0px 0px 5px; font: 600 11.2px / 14.2px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                    <span style="cursor: pointer;">FOUNDER AT</span>&nbsp;<span style="cursor: pointer;">XOXO
                        COSMETICS</span></td>
            </tr>
            <tr style="cursor: pointer;">
                <td align="center"
                    style="margin: 0.1px; padding: 5px 20px; font: 11.2px / 14.2px Tahoma, Geneva, sans-serif; color: rgb(255, 21, 167); border-bottom: 1px solid rgb(235, 228, 228);">
                    <span>phone:&nbsp;</span><span
                        style="color: rgb(0, 0, 1); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">8463
                        366 33</span>&nbsp;&nbsp;<span>email:&nbsp;</span><span
                        style="color: rgb(0, 0, 1); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">kate@mysignature.io</span>
                </td>
            </tr>
            <tr style="cursor: pointer;">
                <td align="center"
                    style="margin: 0.1px; padding: 5px 20px; font: 11.2px / 14.2px Tahoma, Geneva, sans-serif; color: rgb(255, 21, 167); border-bottom: 1px solid rgb(235, 228, 228);">
                    <span>address:&nbsp;</span><span style="color: rgb(0, 0, 1);">5th Ave, fl.
                        3</span>&nbsp;&nbsp;<!----><span
                        style="color: rgb(0, 0, 1); text-decoration: none; font-family: Tahoma, Geneva, sans-serif;">mysignature.io</span>
                </td>
            </tr>
            <tr>
                <td align="center"
                    style="margin: 0.1px; padding: 10px 0px 0px; font: 11.2px / 14.2px Tahoma, Geneva, sans-serif; color: rgb(0, 0, 1);">
                    <table cellpadding="0" align="center" style="border-collapse: collapse;">
                        <tr>
                            <td style="margin: 0.1px; padding: 0px 2.5px; cursor: pointer;"><span
                                    style="border-radius: 0%; width: 23px; height: 23px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                        viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                        style="position: relative; top: 4.6px; width: 13.8px;">
                                        <path
                                            d="M925.632 863.595c-112.215 83.848-274.638 128.405-414.657 128.405-196.227 0-372.851-73.316-506.469-195.646-10.401-9.519-1.2-22.684 11.402-15.19 144.22 85.063 322.644 136.101 506.869 136.101 124.217 0 260.836-26.127 386.653-80.203 18.803-8.101 34.805 12.759 16.202 26.532v0zM972.239 809.722c-14.402-18.633-94.813-8.911-131.018-4.456-11.002 1.215-12.602-8.304-2.8-15.392 64.209-45.57 169.423-32.405 181.625-17.215 12.402 15.392-3.2 122.127-63.409 173.165-9.201 7.899-18.002 3.646-14.002-6.684 13.802-34.228 44.006-110.785 29.604-129.418v0zM707.403 734.38l0.2 0.203c24.803-22.076 69.409-61.57 94.613-82.835 10.001-8.101 8.201-21.671 0.4-33.013-22.603-31.595-46.606-57.316-46.606-115.646v-194.43c0-82.43 5.601-157.975-54.207-214.684-47.206-45.772-125.617-61.975-185.625-61.975-117.216 0-248.034 44.354-275.438 190.987-3 15.595 8.401 23.899 18.403 26.127l119.416 13.165c11.202-0.608 19.203-11.747 21.403-23.089 10.201-50.43 52.007-74.937 99.014-74.937 25.403 0 54.207 9.316 69.209 32.405 17.202 25.722 15.002 60.759 15.002 90.532v16.203c-71.41 8.101-164.823 13.367-231.632 43.139-77.211 33.823-131.418 102.684-131.418 203.949 0 129.62 80.611 194.43 184.425 194.43 87.612 0 135.419-20.861 203.028-90.937 22.403 32.81 29.604 48.81 70.61 83.241 9.401 5.063 21.003 4.658 29.204-2.835v0zM583.186 430.177c0 48.608 1.2 89.114-23.003 132.253-19.603 35.241-50.607 56.709-85.212 56.709-47.206 0-74.81-36.456-74.81-90.329 0-106.329 94.213-125.57 183.225-125.57v26.937h-0.2z"
                                            fill="#FF15A7"></path>
                                    </svg></span></td>
                            <td style="margin: 0.1px; padding: 0px 2.5px; cursor: pointer;"><span
                                    style="border-radius: 0%; width: 23px; height: 23px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                        viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                        style="position: relative; top: 4.6px; width: 13.8px;">
                                        <path
                                            d="M519.85 160.015c0.849 0.003 1.763 0.006 2.74 0.009l10.445 0.047c32.116 0.171 97.222 0.754 168.688 2.734l17.984 0.525 18.156 0.587c3.035 0.103 6.074 0.209 9.114 0.317l18.242 0.685c36.455 1.44 72.559 3.302 104.981 5.708 20 2.453 63.6 2.657 102.6 44.352 30.8 31.68 40.8 103.829 40.8 103.829v0l0.268 2.306c1.612 14.109 9.951 90.704 10.132 167.131v0 79.302c0 84.821-10.2 169.437-10.2 169.437s-10 72.149-40.8 103.829c-39 41.695-82.6 41.899-102.6 44.352-24.317 1.77-50.71 3.251-77.773 4.491l-18.126 0.791c-3.032 0.126-6.069 0.249-9.108 0.37l-18.25 0.689c-97.327 3.504-193.246 4.282-224.543 4.448l-5.095 0.025c-0.718 0.003-1.369 0.006-1.951 0.008h-4.71c-19.049-0.186-268.198-2.748-347.044-10.413-22.8-4.497-74-3.066-113-44.761-30.6-31.68-40.6-103.829-40.6-103.829s-10.2-84.821-10.2-169.437l0.031-87.507c0.349-46.459 3.568-92.038 6.292-122.816l0.935-10.225c1.356-14.348 2.462-24.089 2.82-27.157l0.122-1.034c0 0 9.8-72.149 40.6-103.829 39-41.695 82.6-41.899 102.6-44.352 29.721-2.206 62.534-3.954 95.877-5.339l27.346-1.054c88.16-3.149 175.135-3.956 213.942-4.163l10.445-0.047c0.977-0.003 1.891-0.006 2.74-0.009zM406 369.702v294.114l276.6-146.546-276.6-147.568z"
                                            fill="#FF15A7"></path>
                                    </svg></span></td>
                            <td style="margin: 0.1px; padding: 0px 2.5px; cursor: pointer;"><span
                                    style="border-radius: 0%; width: 23px; height: 23px; display: block; text-align: center; background-color: rgb(255, 255, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg
                                        viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"
                                        style="position: relative; top: 4.6px; width: 13.8px;">
                                        <path
                                            d="M682.653 512c0-93.991-76.659-170.654-170.654-170.654s-170.654 76.659-170.654 170.654c0 93.995 76.659 170.654 170.654 170.654s170.654-76.659 170.654-170.654zM774.646 512c0 145.323-117.325 262.645-262.645 262.645s-262.645-117.325-262.645-262.645c0-145.32 117.325-262.645 262.645-262.645s262.645 117.325 262.645 262.645zM846.641 238.688c0 33.997-27.331 61.328-61.328 61.328s-61.328-27.331-61.328-61.328c0-33.996 27.331-61.328 61.328-61.328s61.328 27.331 61.328 61.328v0zM512 92.033c-74.66 0-234.647-5.999-301.975 20.666-23.331 9.332-40.662 20.666-58.661 38.662s-29.33 35.33-38.662 58.661c-26.666 67.328-20.666 227.315-20.666 301.975s-5.999 234.647 20.666 301.975c9.332 23.331 20.666 40.662 38.662 58.661s35.33 29.33 58.661 38.662c67.328 26.666 227.315 20.666 301.975 20.666s234.647 5.999 301.975-20.666c23.331-9.332 40.662-20.666 58.661-38.662s29.33-35.33 38.662-58.661c26.666-67.328 20.666-227.315 20.666-301.975s5.999-234.647-20.666-301.975c-9.332-23.331-20.666-40.662-38.662-58.661s-35.33-29.33-58.661-38.662c-67.328-26.666-227.315-20.666-301.975-20.666zM1023.958 512c0 70.66 0.667 140.655-3.332 211.316-4 81.995-22.666 154.655-82.66 214.651s-132.656 78.66-214.651 82.66c-70.66 4-140.655 3.332-211.316 3.332s-140.655 0.667-211.316-3.332c-81.995-4-154.655-22.666-214.651-82.66s-78.66-132.656-82.66-214.651c-4-70.66-3.332-140.655-3.332-211.316s-0.667-140.655 3.332-211.316c4-81.995 22.666-154.655 82.66-214.651s132.656-78.66 214.651-82.66c70.66-4 140.655-3.332 211.316-3.332s140.655-0.667 211.316 3.332c81.995 4 154.655 22.666 214.651 82.66s78.66 132.656 82.66 214.651c4 70.66 3.332 140.655 3.332 211.316z"
                                            fill="#FF15A7"></path>
                                    </svg></span></td>
                        </tr>
                    </table>
                </td>
            </tr><!---->
        </table>
        <div><!---->
            <table width="500" cellspacing="0" cellpadding="0" border="0">
                <tr>
                    <td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">&nbsp;</td>
                </tr>
            </table>
        </div><!---->
    </div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template195',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
        data: {
            type: Object,
            default: () => (null)
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
        initEditingStore() {
            // 先从props 中获取数据，
            let data = this.data
            console.log(this.$options.name + "data", data)

            // 如果props 中没有数据，看看用户有没有保存过自定义数据
            if (!data) {
                data = this.store.loadTemplateByName(this.$options.name);
            }

            // 使用默认数据
            if (!data) {
                data = this.templates.getTemplate(this.$options.name)
            }
            this.editing.init(data);
        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        this.editing = useEditingStore()
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>