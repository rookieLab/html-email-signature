
<template>
 <div>
<table cellpadding="0" style="border-collapse: collapse;">
<tr>
<td style="margin: 0.1px; padding: 10px 0px; cursor: pointer;">
<img alt="Best wishes," src="https://img.mysignature.io/a/v1/c/0/1/c01e7193-d60c-5afe-8eb4-f0dd5d22876c.png" width="500"/>
</td>
</tr>
</table>
<table cellpadding="0" style="border-collapse: collapse; font-size: 12.8px;" width="500">
<tr>
<td style="margin: 0.1px; padding: 0px;">
<table cellpadding="0" style="border-collapse: collapse;">
<tr>
<td style="margin: 0.1px; padding: 0px;" valign="top">
<table cellpadding="0" style="border-collapse: collapse;">
<tr>
<td style='margin: 0.1px; padding: 0px 0px 2px; font: 15.4px / 19.5px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1);'>
<span style="color: rgb(0, 0, 1); font-weight: 600; cursor: pointer;">VANESSA
                                                                                SLATER </span><!-- --><!-- -->
</td>
</tr>
<tr>
<td style='margin: 0.1px; padding: 0px 0px 10px; font: 600 12.8px / 16.3px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1);'>
<!-- --><!-- --><span style="cursor: pointer;">REALTOR
                                                                                in
                                                                                Skyline
                                                                                Realty </span>
</td>
</tr><!-- -->
<tr style="cursor: pointer;">
<td style='margin: 0.1px; padding: 1px 0px; font: 12.8px / 16.3px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1);'>
<!-- --><span style='color: rgb(0, 0, 1); text-decoration: none; font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;'>+1
                                                                                983 333 3739</span>
</td>
</tr>
<tr style="cursor: pointer;">
<td style='margin: 0.1px; padding: 1px 0px; font: 12.8px / 16.3px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1);'>
<!-- --><span style='color: rgb(0, 0, 1); text-decoration: none; font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;'>vanessa@skyline.com</span>
</td>
</tr>
<tr style="cursor: pointer;">
<td style='margin: 0.1px; padding: 1px 0px; font: 12.8px / 16.3px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1);'>
<!-- --><span style='color: rgb(0, 0, 1); text-decoration: none; font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;'>mysignature.io</span>
</td>
</tr><!-- -->
<tr>
<td style='margin: 0.1px; padding: 10px 0px 0px; font: 12.8px / 16.3px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1);'>
<table cellpadding="0" style="border-collapse: collapse;">
<tr>
<td style='margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1); cursor: pointer;'>
<span style="border-radius: 50%; width: 25px; height: 25px; display: block; text-align: center; font-size: 12px; font-family: initial; line-height: 1;"><svg style="position: relative; top: 5px; width: 15px;" viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
<path d="M708.872 96c60.427 0 115.005 25.35 153.34 66.3 47.431-9.1 92.913-26.651 133.198-50.7-15.594 48.75-48.731 89.7-92.264 115.7 42.234-4.55 83.168-16.25 120.854-32.5-28.589 41.597-64.324 78.648-105.258 108.548 0.433 6.067 0.577 12.133 0.625 18.2l0.024 9.1c0 277.55-211.167 597.351-597.117 597.351-118.903 0-229.36-34.45-322.274-94.25 16.893 1.95 33.137 2.6 50.68 2.6 98.112 0 188.426-33.15 260.548-89.7-92.264-1.95-169.584-62.4-196.223-145.6 12.995 1.95 25.99 3.25 39.634 3.25 18.842 0 37.685-2.6 55.228-7.15-93.631-18.987-164.472-99.598-168.135-198.031l-0.149-10.62c27.939 15.6 60.427 25.35 94.863 26.651-56.528-37.7-93.564-102.050-93.564-174.85 0-39 10.396-74.75 28.589-105.95 103.309 127.4 258.599 210.6 432.73 219.7-3.249-15.6-5.197-31.85-5.197-48.1 0-115.7 93.564-209.95 209.867-209.95zM78.835 202.591c-2.618 12.209-3.952 24.802-3.952 37.709 0 57.638 27.551 110.604 73.010 143.822l6.309 4.406 94.274 62.875-113.237-4.275c-17.548-0.663-34.866-3.238-51.652-7.59l-3.619-1.041 1.358 4.809c18.010 59.102 65.907 105.581 127.452 120.808l7.45 1.676 135.822 27.543-134.148 34.794c-12.357 3.205-25.049 5.507-37.792 6.836l-12.974 0.975 1.098 1.667c30.4 44.098 80.056 73.193 136.003 76.731l7.667 0.323 89.574 1.893-70.506 55.282c-56.297 44.142-121.725 74.176-191.757 87.941l-11.28 2.019 1.339 0.54c56.615 20.537 116.748 31.964 178.677 33.492l14.322 0.176c328.247 0 559.865-258.63 565.028-555.225l0.058-19.574-0.32-12.103-1.478-21.141 14.304-10.449c7.552-5.516 14.924-11.303 22.1-17.344l4.273-3.717-5.015 0.822-14.652 1.847-145.321 15.656 125.486-74.945c7.444-4.446 14.515-9.396 21.169-14.798l1.534-1.317c-9.197 2.725-18.283 5.081-27.431 7.143l-13.768 2.872-17.331 3.325-12.060-12.883c-33.361-35.637-79.941-56.169-129.979-56.169-98.388 0-177.867 79.68-177.867 177.95 0 9.988 0.874 20.353 2.564 30.932l1.961 10.645 8.465 40.647-41.463-2.167c-156.894-8.199-302.478-73.95-410.921-181.72l-10.587-10.783-2.189 9.087z" fill="#EA5807">
</path>
</svg></span>
</td>
<td style='margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1); cursor: pointer;'>
<span style="border-radius: 50%; width: 25px; height: 25px; display: block; text-align: center; font-size: 12px; font-family: initial; line-height: 1;"><svg style="position: relative; top: 5px; width: 15px;" viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
<path d="M516.072 24.429c-135.762 0-258.655 55.050-347.637 144.091-88.987 89.044-144.005 212.025-144.005 347.888 0 121.89 44.28 233.398 117.639 319.341 67.477 79.053 159.517 136.443 264.268 160.336v-300.767h-119.845c-6.747 0-12.215-5.469-12.215-12.215v-182.949c0-6.747 5.468-12.215 12.215-12.215h119.845v-86.193c0-71.774 21.664-128.727 60.1-168.344 39.841-41.065 96.817-62.611 164.82-62.611 59.358 0 121.171 10.561 134.937 13.149 5.775 1.086 9.957 6.129 9.957 12.004v157.812c0 6.747-5.469 12.215-12.215 12.215h-81.837c-21.727 0-34.957 5.443-42.816 12.982-9.572 9.183-13.478 23.351-13.478 39.87v69.116h134.716c3.563 0 6.948 1.555 9.269 4.258 2.32 2.704 3.345 6.285 2.805 9.807l-28.043 182.949c-0.913 5.962-6.042 10.364-12.073 10.364h-106.674v300.767c104.751-23.893 196.791-81.284 264.268-160.336 73.36-85.944 117.639-197.452 117.639-319.341 0-135.863-55.018-258.844-144.005-347.888-88.982-89.040-211.874-144.091-347.637-144.091zM151.155 151.252c93.375-93.436 222.41-151.252 364.917-151.252s271.541 57.816 364.917 151.252c93.379 93.439 151.155 222.559 151.155 365.157 0 127.918-46.494 245.001-123.488 335.202-74.057 86.761-176.361 148.707-292.711 171.534-3.583 0.702-7.293-0.234-10.113-2.555-2.82-2.311-4.454-5.776-4.454-9.428v-328.058c0-6.747 5.469-12.215 12.215-12.215h108.404l24.298-158.519h-132.702c-6.746 0-12.215-5.469-12.215-12.215v-81.331c0-19.544 4.514-41.688 20.994-57.498 13.927-13.362 34.176-19.784 59.729-19.784h69.622v-135.344c-22.747-3.799-72.649-10.977-120.465-10.977-62.781 0-112.928 19.779-147.287 55.192-33.152 34.171-53.204 84.555-53.204 151.333v98.408c0 6.746-5.469 12.215-12.215 12.215h-119.845v158.519h119.845c6.746 0 12.215 5.468 12.215 12.215v328.058c0 3.652-1.635 7.117-4.454 9.428-2.82 2.321-6.53 3.257-10.113 2.555-116.35-22.827-218.655-84.773-292.711-171.534-76.993-90.202-123.488-207.285-123.488-335.202 0-142.598 57.775-271.717 151.155-365.157z" fill="#EA5807">
</path>
</svg></span>
</td>
<td style='margin: 0.1px; padding: 0px 4px 0px 0px; font: 12.8px / 16.3px "Palatino Linotype", "Book Antiqua", Palatino, serif; color: rgb(0, 0, 1); cursor: pointer;'>
<span style="border-radius: 50%; width: 25px; height: 25px; display: block; text-align: center; font-size: 12px; font-family: initial; line-height: 1;"><svg style="position: relative; top: 5px; width: 15px;" viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
<path d="M576.619 992h-210.905v-664.615h202.407v104.748h2.894c27.221-49.293 92.545-101.168 189.66-104.571l10.16-0.177c162.783 0 224.478 77.949 244.629 192.31l2.307 14.482c0.7 4.888 1.332 9.837 1.9 14.843l1.519 15.186 1.164 15.511 0.834 15.819 0.531 16.108 0.253 16.379 0.030 363.977h-210.983l-0.054-330.845-0.283-15.645-0.409-10.527-0.649-10.531-0.944-10.474-1.295-10.355c-7.692-53.083-31.638-98.897-106.112-98.897-94.551 0-120.159 60.644-125.465 131.455l-0.69 11.564-0.38 11.694-0.117 11.777v320.783zM219.429 327.385v664.615h-219.429v-664.615h219.429zM536.096 359.36h-138.4v600.64h146.912l0.011-288.783c0-123.545 39.82-195.258 150.963-198.384l7.689-0.107c107.772 0 139.696 63.554 141.639 185.005l0.088 8.567-0.006 293.701h147.008l-0.030-331.739-0.126-10.075-0.562-19.515c-0.386-9.547-0.933-18.781-1.648-27.705l-1.659-17.437c-14.799-133.386-72.573-191.697-208.367-194.069l-8.774-0.076c-77.010 0-139.158 34.971-168.561 82.66l-3.246 5.558-9.129 16.531h-53.777l-0.025-104.773zM187.424 359.36h-155.456v600.64h155.456v-600.64zM109.714 32c60.593 0 109.714 49.593 109.714 110.769 0 59.137-45.901 107.45-103.695 110.605l-6.020 0.164c-60.593 0-109.714-49.593-109.714-110.769 0-59.137 45.901-107.45 103.695-110.605l6.020-0.164zM109.714 64c-42.851 0-77.714 35.198-77.714 78.769s34.863 78.769 77.714 78.769c42.851 0 77.714-35.198 77.714-78.769s-34.863-78.769-77.714-78.769z" fill="#EA5807">
</path>
</svg></span>
</td>
</tr>
</table>
</td>
</tr>
</table>
</td>
<td style="margin: 0.1px; padding: 0px 0px 0px 15px; cursor: pointer;" valign="top">
<img alt=' "created with MySignature.io"' src="https://img.mysignature.io/p/9/7/8/978bfbea-ac34-57fd-b81a-9e0edf7e0eeb.png?time=1709108740" style="display: block; min-width: 134px;" width="134"/>
</td>
</tr>
</table>
</td>
</tr><!-- -->
</table>
<div>
<table cellpadding="0" style="border-collapse: collapse;">
<tr>
<td style="padding: 16px 4px 4px 0px; margin: 0.1px;">
<span><img alt="amazon" height="32" src="https://img.mysignature.io/addons/v2/amazon_shape2_white.png" style="display: block;" width="112"/></span>
</td>
<td style="padding: 16px 4px 4px 0px; margin: 0.1px;">
<span><img alt="ebay" height="32" src="https://img.mysignature.io/addons/v2/ebay_shape2_white.png" style="display: block;" width="112"/></span>
</td>
<td style="padding: 16px 4px 4px 0px; margin: 0.1px;">
<!-- -->
</td>
<td style="padding: 16px 4px 4px 0px; margin: 0.1px;">
<!-- -->
</td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="500">
<tr>
<td style="margin: 0.1px; padding-top: 10px; cursor: pointer;">
<span><img alt="created with MySignature.io" src="https://img.mysignature.io/b/9/7/8/978bfbea-ac34-57fd-b81a-9e0edf7e0eeb.png?time=1709108740" style="display: block;" valign="top" width="317"/></span>
</td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="500">
<tr>
<td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">
                                                         </td>
</tr>
</table>
</div><!-- -->
</div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template3',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
        data: {
            type: Object,
            default: () => ({})
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
        initEditingStore() {
            // 先从props 中获取数据，
            let data = this.data
            console.log(this.$options.name + "data", data)

            // 如果props 中没有数据，看看用户有没有保存过自定义数据
            if (!data) {
                data = this.store.loadTemplateByName(this.$options.name);
            }

            // 使用默认数据
            if (!data) {
                data = this.templates.getTemplate(this.$options.name)
            }
            this.editing.init(data);
        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        this.editing = useEditingStore()
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>
    