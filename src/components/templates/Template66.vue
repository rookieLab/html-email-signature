
<template>
 <div><!-- -->
<table cellpadding="0" style="border-collapse: collapse; font-size: 10.7px;" width="400">
<tr>
<td style="margin: 0.1px; padding: 0px; cursor: pointer;">
<img alt=' "created with MySignature.io"' src="https://img.mysignature.io/p/a/b/d/abd22959-f13e-58df-b5cd-85082d3142bb.png?time=1720532389" style="display: block; min-width: 77px;" width="77"/>
</td>
</tr>
<tr>
<td style="margin: 0.1px; padding: 10px 10px 0px 0px; font: 13.9px / 17.7px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); letter-spacing: 0.4pt; cursor: pointer;">
<span style="font-weight: 600; color: rgb(0, 0, 0); text-transform: uppercase; cursor: pointer;">Juliette
                                                        Perry</span><!-- --><!-- -->
</td>
</tr>
<tr>
<td style="margin: 0.1px; padding: 5px 0px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
<span style="cursor: pointer;">Sales Manager
                                                        ❍</span> <span style="cursor: pointer;">PerformGroup</span>
</td>
</tr>
<tr>
<td style="margin: 0.1px; padding: 15px 0px;">
<table cellpadding="0" style="border-collapse: collapse;">
<tr>
<td height="1" style="margin: 0.1px; padding: 0px; border-top: 2px solid rgb(0, 0, 1); font: 1px / 1px Verdana, Geneva, sans-serif; width: 30px;">
</td>
</tr>
</table>
</td>
</tr>
<tr style="cursor: pointer;">
<td style="margin: 0.1px; padding: 1px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
<!-- --><span style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">perry@mysignature.io</span>
</td>
</tr>
<tr style="cursor: pointer;">
<td style="margin: 0.1px; padding: 1px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
<!-- --><span style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;"></span>
</td>
</tr>
<tr style="cursor: pointer;">
<td style="margin: 0.1px; padding: 1px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
<!-- --><span style="color: rgb(0, 0, 1); text-decoration: none; font-family: Verdana, Geneva, sans-serif;">16
                                                        286 134 579</span>
</td>
</tr>
<tr>
<td style="margin: 0.1px; padding: 1px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
<span style="color: rgb(0, 71, 175); font-weight: 400; cursor: pointer;">❍
                                                        maximize revenue </span><!-- --><span style="color: rgb(0, 71, 175); font-weight: 400; cursor: pointer;"></span>
</td>
</tr>
<tr>
<td style="margin: 0.1px; padding: 1px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
<!-- --><!-- --><span style="color: rgb(0, 71, 175); font-weight: 400; cursor: pointer;">❍
                                                        expert advice</span>
</td>
</tr><!-- -->
<tr>
<td style="margin: 0.1px; padding: 12px 0px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1);">
<table cellpadding="0" style="border-collapse: collapse;">
<tr>
<td style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
<span style="border-radius: 50%; width: 28px; height: 28px; display: block; text-align: center; background-color: rgb(175, 220, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg style="position: relative; top: 5.6px; width: 16.8px;" viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
<path d="M682.653 512c0-93.991-76.659-170.654-170.654-170.654s-170.654 76.659-170.654 170.654c0 93.995 76.659 170.654 170.654 170.654s170.654-76.659 170.654-170.654zM774.646 512c0 145.323-117.325 262.645-262.645 262.645s-262.645-117.325-262.645-262.645c0-145.32 117.325-262.645 262.645-262.645s262.645 117.325 262.645 262.645zM846.641 238.688c0 33.997-27.331 61.328-61.328 61.328s-61.328-27.331-61.328-61.328c0-33.996 27.331-61.328 61.328-61.328s61.328 27.331 61.328 61.328v0zM512 92.033c-74.66 0-234.647-5.999-301.975 20.666-23.331 9.332-40.662 20.666-58.661 38.662s-29.33 35.33-38.662 58.661c-26.666 67.328-20.666 227.315-20.666 301.975s-5.999 234.647 20.666 301.975c9.332 23.331 20.666 40.662 38.662 58.661s35.33 29.33 58.661 38.662c67.328 26.666 227.315 20.666 301.975 20.666s234.647 5.999 301.975-20.666c23.331-9.332 40.662-20.666 58.661-38.662s29.33-35.33 38.662-58.661c26.666-67.328 20.666-227.315 20.666-301.975s5.999-234.647-20.666-301.975c-9.332-23.331-20.666-40.662-38.662-58.661s-35.33-29.33-58.661-38.662c-67.328-26.666-227.315-20.666-301.975-20.666zM1023.958 512c0 70.66 0.667 140.655-3.332 211.316-4 81.995-22.666 154.655-82.66 214.651s-132.656 78.66-214.651 82.66c-70.66 4-140.655 3.332-211.316 3.332s-140.655 0.667-211.316-3.332c-81.995-4-154.655-22.666-214.651-82.66s-78.66-132.656-82.66-214.651c-4-70.66-3.332-140.655-3.332-211.316s-0.667-140.655 3.332-211.316c4-81.995 22.666-154.655 82.66-214.651s132.656-78.66 214.651-82.66c70.66-4 140.655-3.332 211.316-3.332s140.655-0.667 211.316 3.332c81.995 4 154.655 22.666 214.651 82.66s78.66 132.656 82.66 214.651c4 70.66 3.332 140.655 3.332 211.316z" fill="#000000"></path>
</svg></span>
</td>
<td style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
<span style="border-radius: 50%; width: 28px; height: 28px; display: block; text-align: center; background-color: rgb(175, 220, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg style="position: relative; top: 5.6px; width: 16.8px;" viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
<path d="M519.85 160.015c0.849 0.003 1.763 0.006 2.74 0.009l10.445 0.047c32.116 0.171 97.222 0.754 168.688 2.734l17.984 0.525 18.156 0.587c3.035 0.103 6.074 0.209 9.114 0.317l18.242 0.685c36.455 1.44 72.559 3.302 104.981 5.708 20 2.453 63.6 2.657 102.6 44.352 30.8 31.68 40.8 103.829 40.8 103.829v0l0.268 2.306c1.612 14.109 9.951 90.704 10.132 167.131v0 79.302c0 84.821-10.2 169.437-10.2 169.437s-10 72.149-40.8 103.829c-39 41.695-82.6 41.899-102.6 44.352-24.317 1.77-50.71 3.251-77.773 4.491l-18.126 0.791c-3.032 0.126-6.069 0.249-9.108 0.37l-18.25 0.689c-97.327 3.504-193.246 4.282-224.543 4.448l-5.095 0.025c-0.718 0.003-1.369 0.006-1.951 0.008h-4.71c-19.049-0.186-268.198-2.748-347.044-10.413-22.8-4.497-74-3.066-113-44.761-30.6-31.68-40.6-103.829-40.6-103.829s-10.2-84.821-10.2-169.437l0.031-87.507c0.349-46.459 3.568-92.038 6.292-122.816l0.935-10.225c1.356-14.348 2.462-24.089 2.82-27.157l0.122-1.034c0 0 9.8-72.149 40.6-103.829 39-41.695 82.6-41.899 102.6-44.352 29.721-2.206 62.534-3.954 95.877-5.339l27.346-1.054c88.16-3.149 175.135-3.956 213.942-4.163l10.445-0.047c0.977-0.003 1.891-0.006 2.74-0.009zM406 369.702v294.114l276.6-146.546-276.6-147.568z" fill="#000000"></path>
</svg></span>
</td>
<td style="margin: 0.1px; padding: 0px 5px 0px 0px; font: 10.7px / 13.6px Verdana, Geneva, sans-serif; color: rgb(0, 0, 1); cursor: pointer;">
<span style="border-radius: 50%; width: 28px; height: 28px; display: block; text-align: center; background-color: rgb(175, 220, 255); font-size: 12px; font-family: initial; line-height: 1;"><svg style="position: relative; top: 5.6px; width: 16.8px;" viewbox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
<path d="M959.851 414.292c-8.556 0.813-17.146 1.239-25.742 1.277-94.288 0.013-182.228-46.466-233.877-123.613v420.932c0 171.822-142.425 311.111-318.116 311.111s-318.116-139.289-318.116-311.111c0-171.822 142.425-311.111 318.116-311.111 6.641 0 13.132 0.584 19.661 0.985v153.312c-6.529-0.766-12.945-1.934-19.661-1.934-89.669 0-162.36 71.090-162.36 158.785s72.691 158.785 162.36 158.785c89.686 0 168.888-69.103 168.888-156.814l1.567-714.895h149.974c14.142 131.528 122.584 234.263 257.455 243.905v170.387z" fill="#000000"></path>
</svg></span>
</td>
</tr>
</table>
</td>
</tr><!-- -->
</table>
<div>
<table cellpadding="0" style="border-collapse: collapse;" width="500">
<!-- -->
<tr>
<td style="padding: 11px 0px 0px; margin: 0.1px; cursor: pointer;">
<span><img alt="Zoom  " src="https://img.mysignature.io/a/v1/0/7/9/07948b7b-ae6d-5b1a-aacc-2ceda10f5fea.png" style="display: block;" width="96"/></span>
</td>
</tr>
</table><!-- -->
<table border="0" cellpadding="0" cellspacing="0" width="500">
<tr>
<td style="margin: 0.1px; line-height: 1px; font-size: 1px; height: 1px;">
                                                         </td>
</tr>
</table>
</div><!-- -->
</div>
</template>
<script>
import { shallowRef, ref, computed } from 'vue'
import { useStore } from '@/stores/store'
import { useEditingStore, useTemplatesStore } from '@/stores'
import * as iconComponents from '@/components/svg-icon-a'
import jsonData from '@/stores/data.json'

export default {
    name: 'Template66',
    data() {
        return {
            editing: {},
            socialIconsMap: {}
        }
    },
    props: {
        data: {
            type: Object,
            default: () => ({})
        }
    },
    methods: {
        // saveTemplate() {
        //     this.store.saveTemplate('Template1', this.data);
        // },
        initEditingStore() {
            // 先从props 中获取数据，
            let data = this.data
            console.log(this.$options.name + "data", data)

            // 如果props 中没有数据，看看用户有没有保存过自定义数据
            if (!data) {
                data = this.store.loadTemplateByName(this.$options.name);
            }

            // 使用默认数据
            if (!data) {
                data = this.templates.getTemplate(this.$options.name)
            }
            this.editing.init(data);
        },
        loadSocialIcons() {
            Object.values(iconComponents).map(component => (
                this.socialIconsMap[component.name] = shallowRef(component)
            ))
        },
        init() {
            this.initEditingStore(this.$options.name);
            this.loadSocialIcons();
        }
    },
    computed: {
        textStyle() {
            let fontName = this.editing?.design?.font || "Arial"
            return {
                color: this.editing.design?.TextColor,
                fontFamily: jsonData.fontList[fontName],
                fontSize: this.editing.design?.fontSize + 'px'
            }
        }
    },
    mounted() {
        this.store = useStore();
        this.editing = useEditingStore()
        this.templates = useTemplatesStore()

        this.init()
    }
}
</script>
<style scoped></style>
    