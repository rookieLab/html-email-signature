/*! For license information please see twk-chunk-5aa2faa9.js.LICENSE */
(window.tawkJsonp=window.tawkJsonp||[]).push([["chunk-5aa2faa9"],{"15e8":function(t,e,a){"use strict";var r=a("2f62"),n=a("f0b0"),s=a("7f46");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={name:"ActiveChatItem",components:{TawkAvatar:n.TawkAvatar,TawkEmoji:n.TawkEmoji,TawkIcon:n.TawkIcon,TawkLoader:n.TawkLoader,TawkBadge:n.TawkBadge},props:{convertToAvatarLink:{type:Function,required:!0},emojiEnabled:{type:Boolean,default:!0}},computed:c(c({},Object(r.c)({agents:"chat/agents",incomingMessage:"chat/incomingMessage",lastMessage:"chat/lastMessage",prechatFormSubmitted:"session/prechatFormSubmitted",isPrechatEnabled:"widget/isPrechatEnabled",unreadMessageCount:"chat/unreadMessageCount"})),{},{getAgentImage:function(){return this.lastMessage&&this.lastMessage.profileImage?this.lastMessage.profileImage:"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg")},getMessageName:function(){return this.lastMessage&&this.lastMessage.name?this.lastMessage.name:this.$i18n("chat","mobileName")},hasUnreadMessage:function(){return this.unreadMessageCount>0&&("c"===this.lastMessage.senderType||"a"===this.lastMessage.senderType||"s"===this.lastMessage.senderType)},messageTextOnly:function(){return s.a.removeHTMLTags(s.a.removeAnchorTags(this.lastMessage.message))},getDescriptionText:function(){var t=this.lastMessage.callData,e="";return!t.isDone&&t.isRinging&&"ringing"===t.status?e=t.caller.displayName?this.$i18n("chat","agent_ringing"):this.$i18n("chat","visitor_ringing"):t.isDone||t.isRinging||"in-progress"!==t.status?t.isDone&&!t.isRinging&&"completed"===t.status&&(t.isMissed||t.isRejected)?e=t.caller.displayName?this.$i18n("chat","missed_visitor"):this.$i18n("chat","missed_agent"):!t.isDone||t.isRinging||"completed"!==t.status||t.isMissed||t.isRejected||(e=this.$i18n("chat","completed_call")):e=this.$i18n("chat","ongoing_call"),e}}),methods:c(c({},Object(r.b)({routerPush:"router/routerPush",showOverlay:"overlay/showOverlay"})),{},{goToChatView:function(){this.isPrechatEnabled&&!this.prechatFormSubmitted?this.routerPush("prechat"):this.routerPush("chat"),this.showOverlay(!1)}})},h=a("2877"),f=Object(h.a)(u,(function(){var t=this,e=t._self._c;return e("li",{staticClass:"tawk-flex",attrs:{role:"button",tabindex:"0"},on:{click:t.goToChatView}},["c"!==t.lastMessage.type||t.lastMessage.callData?t.lastMessage.callData&&!t.lastMessage.callData.hasError?[t.lastMessage.callData.caller?[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-avatar",{attrs:{src:t.lastMessage.callData.caller.profileImage?t.lastMessage.callData.caller.profileImage:t.convertToAvatarLink()}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[e("p",{class:["tawk-margin-xsmall-bottom","tawk-text-truncate",t.hasUnreadMessage?"tawk-text-bold tawk-text-grey-0":"tawk-text-grey-2"]},[t._v(" "+t._s(t.lastMessage.callData.caller.displayName?t.lastMessage.callData.caller.displayName:t.$i18n("chat","mobileName"))+" ")]),e("p",{class:["tawk-text-truncate",t.hasUnreadMessage?"tawk-text-grey-0":"tawk-text-grey-2"]},[t._v(" "+t._s(t.getDescriptionText)+" ")])]),e("div",{staticClass:"tawk-flex-none tawk-text-right"},[e("div",{staticClass:"tawk-flex tawk-flex-column tawk-flex-bottom"},[e("div",[e("tawk-timeago",{attrs:{datetime:t.lastMessage.time,isDuration:!0,isLive:!1}})],1),e("div",{staticClass:"tawk-margin-xsmall-top"},[t.unreadMessageCount>0?e("tawk-badge",{staticClass:"tawk-home-list-chat-content-badge",attrs:{count:t.unreadMessageCount}}):e("tawk-icon",{attrs:{type:"right-arrow",size:"small"}})],1)])])])]:[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-loader",{attrs:{type:"avatar"}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[e("tawk-loader",{staticClass:"tawk-margin-xsmall-bottom"}),e("tawk-loader",{staticClass:"tawk-margin-xsmall-top",attrs:{size:"small"}})],1),e("div",{staticClass:"tawk-flex-none tawk-text-right"},[e("div",{staticClass:"tawk-flex tawk-flex-column tawk-flex-bottom"},[e("div",[e("tawk-timeago",{attrs:{datetime:t.lastMessage.time,isDuration:!0,isLive:!1}})],1),e("div",{staticClass:"tawk-margin-xsmall-top"},[t.unreadMessageCount>0?e("tawk-badge",{staticClass:"tawk-home-list-chat-content-badge",attrs:{count:t.unreadMessageCount}}):e("tawk-icon",{attrs:{type:"right-arrow",size:"small"}})],1)])])])]]:t.lastMessage.callData&&t.lastMessage.callData.hasError?[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-avatar",{attrs:{src:t.convertToAvatarLink()}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[e("p",{staticClass:"tawk-margin-xsmall-bottom tawk-text-truncate tawk-text-grey-2"},[t._v(" "+t._s(t.$i18n("chat","error_title"))+" ")]),e("p",{staticClass:"tawk-text-truncate tawk-text-grey-2"},[t._v(" "+t._s(t.$i18n("chat","call_error_load"))+" ")])]),e("div",{staticClass:"tawk-flex-none tawk-text-right"},[e("div",{staticClass:"tawk-flex tawk-flex-column tawk-flex-bottom"},[e("div",[e("tawk-timeago",{attrs:{datetime:t.lastMessage.time,isDuration:!0,isLive:!1}})],1),e("div",{staticClass:"tawk-margin-xsmall-top"},[t.unreadMessageCount>0?e("tawk-badge",{staticClass:"tawk-home-list-chat-content-badge",attrs:{count:t.unreadMessageCount}}):e("tawk-icon",{attrs:{type:"right-arrow",size:"small"}})],1)])])])]:t._e():[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-avatar",{attrs:{src:t.getAgentImage,alt:"".concat(t.$i18n("chat","agent_profile_image"))}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[e("p",{class:["tawk-margin-xsmall-bottom","tawk-text-truncate",t.hasUnreadMessage?"tawk-text-bold tawk-text-grey-0":"tawk-text-grey-2"]},[t._v(" "+t._s(t.getMessageName)+" ")]),t.lastMessage.attchs&&!t.lastMessage.message?e("div",[e("p",{class:["tawk-text-italic",t.hasUnreadMessage?"tawk-text-grey-0":"tawk-text-grey-2"]},[e("tawk-icon",{attrs:{type:"attach-file",size:"small"}}),t._v(" "+t._s(t.$i18n("chat","sent_file"))+" ")],1)]):t.lastMessage.hasInlineTicketForm&&!t.lastMessage.message?e("div",[e("p",{class:["tawk-text-italic",t.hasUnreadMessage?"tawk-text-grey-0":"tawk-text-grey-2"]},[e("tawk-icon",{attrs:{type:"attach-file",size:"small"}}),t._v(" "+t._s(t.$i18n("chat","sent_form"))+" ")],1)]):t.lastMessage.surveyObj&&!t.lastMessage.message?e("div",[e("p",{class:["tawk-text-italic",t.hasUnreadMessage?"tawk-text-grey-0":"tawk-text-grey-2"]},[e("tawk-icon",{attrs:{type:"attach-file",size:"small"}}),t._v(" "+t._s(t.$i18n("chat","sent_suggested_message"))+" ")],1)]):e("p",{class:["tawk-text-truncate",t.hasUnreadMessage?"tawk-text-grey-0":"tawk-text-grey-2"]},[e("tawk-emoji",{key:t.lastMessage.messageId,attrs:{emoji:t.messageTextOnly,enabled:t.emojiEnabled}})],1)]),e("div",{staticClass:"tawk-flex-none tawk-text-right"},[e("div",{staticClass:"tawk-flex tawk-flex-column tawk-flex-bottom"},[e("div",[e("tawk-timeago",{attrs:{datetime:t.lastMessage.time,isDuration:!0,isLive:!1}})],1),e("div",{staticClass:"tawk-margin-xsmall-top"},[t.unreadMessageCount>0?e("tawk-badge",{staticClass:"tawk-home-list-chat-content-badge",attrs:{count:t.unreadMessageCount}}):e("tawk-icon",{attrs:{type:"right-arrow",size:"small"}})],1)])])])]],2)}),[],!1,null,null,null).exports;function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var p={name:"PreviousChatItem",props:{item:{type:Object,required:!0},convertToAvatarLink:{type:Function,required:!0},emojiEnabled:{type:Boolean,default:!0}},components:{TawkAvatar:n.TawkAvatar,TawkEmoji:n.TawkEmoji},computed:{messageTextOnly:function(){var t=s.a.removeHTMLTags(this.item.snippet);return s.a.rawEncode(s.a.rawDecode(t))},getMessageImage:function(){return this.item.agentIds.length?this.convertToAvatarLink(this.item.agentAliases[0].profileImage):"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg")},getMessageName:function(){return this.item.agentIds.length?Object.keys(this.item.agentAliases).length?this.item.agentAliases[0].displayName:this.$i18n("chat","mobileName"):this.$i18n("chat","unanswered")}},methods:d(d({},Object(r.b)({routerPush:"router/routerPush",showOverlay:"overlay/showOverlay"})),{},{select:function(t){this.$store.commit("history/setSelectedChat",t),this.routerPush("history-chat"),this.showOverlay(!0)}})},w=Object(h.a)(p,(function(){var t=this,e=t._self._c;return e("li",{staticClass:"tawk-flex",attrs:{role:"button",tabindex:"0"},on:{click:function(e){return t.select(t.item)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.select(t.item)}}},[e("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[e("tawk-avatar",{attrs:{src:t.getMessageImage,alt:"".concat(t.$i18n("chat","agent_profile_image"))}})],1),e("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[e("div",{staticClass:"tawk-flex-1 tawk-custom-chat-left",staticStyle:{overflow:"hidden"}},[e("p",{staticClass:"tawk-margin-xsmall-bottom tawk-text-truncate"},[t._v(" "+t._s(t.getMessageName)+" ")]),t.item.snippet?e("p",{staticClass:"tawk-text-truncate"},[e("tawk-emoji",{key:t.item.id,attrs:{emoji:t.messageTextOnly,enabled:t.emojiEnabled}})],1):t._e()]),e("div",{staticClass:"tawk-flex-none tawk-text-right tawk-custom-chat-right"},[e("tawk-timeago",{attrs:{datetime:t.item.endedOn,isDuration:!1,isLive:!1}})],1)])])}),[],!1,null,null,null).exports;function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function k(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){x(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function x(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var O={name:"ConversationsItem",components:{TawkList:n.TawkList,ActiveChatItem:f,PreviousChatItem:w},props:{items:{type:Array,required:!0}},mounted:function(){!this.hasActiveChat||this.isPrechatEnabled&&!this.prechatFormSubmitted||this.goToChatView()},computed:k(k({},Object(r.c)({pageStatus:"session/pageStatus",currentView:"router/getCurrentView",chatOrder:"chat/chatOrder",hasLiveChat:"widget/hasLiveChat",agentsCount:"chat/agentsCount",endedChats:"chat/endedChats",lastMessage:"chat/lastMessage",emojiEnabled:"widget/emojiEnabled",isPrechatEnabled:"widget/isPrechatEnabled",prechatFormSubmitted:"session/prechatFormSubmitted"})),{},{previousConversations:function(){var t=this.items;return this.endedConversations.length?3===this.endedConversations.length||this.hasActiveChat&&2===this.endedConversations.length?[]:1===this.endedConversations.length&&this.hasActiveChat?t.slice(0,"-".concat(this.endedConversations.length+1)):t.slice(0,"-".concat(this.endedConversations.length)):this.hasActiveChat&&t.length>=3?t.slice(0,-1):t},hasActiveChat:function(){return"offline"!==this.pageStatus&&this.currentView&&"chat"!==this.currentView.path&&this.chatOrder&&this.isLiveChatFeatureEnabled},isLiveChatFeatureEnabled:function(){return!!(this.hasLiveChat||this.chatOrder&&this.agentsCount>0)},endedConversations:function(){return this.endedChats.length>=3?this.hasActiveChat?this.endedChats.slice(0,2):this.endedChats.slice(0,3):this.endedChats}}),methods:k(k({},Object(r.b)({routerPush:"router/routerPush",showOverlay:"overlay/showOverlay"})),{},{convertToAvatarLink:function(t){return t?"".concat("https://s3.amazonaws.com/tawk-to-pi","/").concat(t):"".concat("https://embed.tawk.to/_s/v4/assets","/images/default-profile.svg")},goToChatView:function(){this.routerPush("chat"),this.showOverlay(!1)}})},C=Object(h.a)(O,(function(){var t=this,e=t._self._c;return e("tawk-list",{staticClass:"tawk-home-list tawk-home-list-hover tawk-home-list-chat",attrs:{tag:"ul"}},[t.hasActiveChat&&t.lastMessage?e("active-chat-item",{attrs:{convertToAvatarLink:t.convertToAvatarLink,emojiEnabled:t.emojiEnabled}}):t._e(),t.hasActiveChat&&t.lastMessage&&(t.endedConversations.length||t.previousConversations.length)?e("li",{staticClass:"tawk-home-list-divider"}):t._e(),t._l(t.endedConversations,(function(a){return e("previous-chat-item",{key:a.id,attrs:{item:a,convertToAvatarLink:t.convertToAvatarLink,emojiEnabled:t.emojiEnabled}})})),t._l(t.previousConversations,(function(a){return e("previous-chat-item",{key:a.id,attrs:{item:a,convertToAvatarLink:t.convertToAvatarLink,emojiEnabled:t.emojiEnabled}})}))],2)}),[],!1,null,null,null);e.a=C.exports},"30be":function(t,e,a){"use strict";a.r(e);var r=a("a6b6").a,n=a("2877"),s=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:!t.history.isLoading,expression:"!history.isLoading"}],attrs:{role:"log"}},[e("p",{staticClass:"tawk-padding-small tawk-text-regular-4"},[t._v(" "+t._s(t.$i18n("routes","conversations"))+" ")]),t.history.isLoading?e("item-loader"):e("item",{attrs:{items:t.history.items}}),t.history.nextListHash&&!t.history.isLoading?e("div",{staticClass:"tawk-padding-small"},[e("tawk-button",{staticClass:"tawk-margin-xsmall tawk-button-cta tawk-custom-color tawk-custom-border-color",staticStyle:{width:"100%"},on:{click:t.goToHistoryView}},[t._v(" "+t._s(t.$i18n("chat","all_conversations"))+" ")])],1):t._e()],1)}),[],!1,null,null,null);e.default=s.exports},"35c3":function(t,e,a){"use strict";var r=a("f0b0"),n={name:"ConversationsLoader",components:{TawkList:r.TawkList,TawkLoader:r.TawkLoader}},s=a("2877"),i=Object(s.a)(n,(function(){var t=this._self._c;return t("tawk-list",{staticClass:"tawk-home-list tawk-home-list-chat",attrs:{tag:"ul"}},this._l(1,(function(e,a){return t("li",{key:a,staticClass:"tawk-flex"},[t("div",{staticClass:"tawk-flex-none tawk-margin-xsmall-right"},[t("tawk-loader",{attrs:{type:"icon",size:"medium"}})],1),t("div",{staticClass:"tawk-home-list-chat-content tawk-flex"},[t("div",{staticClass:"tawk-flex-1",staticStyle:{overflow:"hidden"}},[t("tawk-loader",{staticClass:"tawk-margin-xsmall-bottom"}),t("tawk-loader",{staticClass:"tawk-margin-xsmall-top",attrs:{size:"small"}})],1)])])})),0)}),[],!1,null,null,null);e.a=i.exports},a6b6:function(t,e,a){"use strict";(function(t){var r=a("2f62"),n=a("f0b0"),s=a("15e8"),i=a("35c3"),o=a("3f09"),c=a("bdd0");function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){u=function(){return e};var t,e={},a=Object.prototype,r=a.hasOwnProperty,n=Object.defineProperty||function(t,e,a){t[e]=a.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,a){return t[e]=a}}function f(t,e,a,r){var s=e&&e.prototype instanceof w?e:w,i=Object.create(s.prototype),o=new E(r||[]);return n(i,"_invoke",{value:_(t,a,o)}),i}function m(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var g="suspendedStart",d="executing",v="completed",p={};function w(){}function y(){}function b(){}var k={};h(k,i,(function(){return this}));var x=Object.getPrototypeOf,O=x&&x(x(S([])));O&&O!==a&&r.call(O,i)&&(k=O);var C=b.prototype=w.prototype=Object.create(k);function j(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function a(n,s,i,o){var c=m(t[n],t,s);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==l(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){a("next",t,i,o)}),(function(t){a("throw",t,i,o)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return a("throw",t,i,o)}))}o(c.arg)}var s;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return s=s?s.then(n,n):n()}})}function _(e,a,r){var n=g;return function(s,i){if(n===d)throw Error("Generator is already running");if(n===v){if("throw"===s)throw i;return{value:t,done:!0}}for(r.method=s,r.arg=i;;){var o=r.delegate;if(o){var c=M(o,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===g)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var l=m(e,a,r);if("normal"===l.type){if(n=r.done?v:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=v,r.method="throw",r.arg=l.arg)}}}function M(e,a){var r=a.method,n=e.iterator[r];if(n===t)return a.delegate=null,"throw"===r&&e.iterator.return&&(a.method="return",a.arg=t,M(e,a),"throw"===a.method)||"return"!==r&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var s=m(n,e.iterator,a.arg);if("throw"===s.type)return a.method="throw",a.arg=s.arg,a.delegate=null,p;var i=s.arg;return i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,p):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,p)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function S(e){if(e||""===e){var a=e[i];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function a(){for(;++n<e.length;)if(r.call(e,n))return a.value=e[n],a.done=!1,a;return a.value=t,a.done=!0,a};return s.next=s}}throw new TypeError(l(e)+" is not iterable")}return y.prototype=b,n(C,"constructor",{value:b,configurable:!0}),n(b,"constructor",{value:y,configurable:!0}),y.displayName=h(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,h(t,c,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},j(L.prototype),h(L.prototype,o,(function(){return this})),e.AsyncIterator=L,e.async=function(t,a,r,n,s){void 0===s&&(s=Promise);var i=new L(f(t,a,r,n),s);return e.isGeneratorFunction(a)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(C),h(C,c,"Generator"),h(C,i,(function(){return this})),h(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),a=[];for(var r in e)a.push(r);return a.reverse(),function t(){for(;a.length;){var r=a.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function n(r,n){return o.type="throw",o.arg=e,a.next=r,n&&(a.method="next",a.arg=t),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=t,i.arg=e,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),T(a),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var r=a.completion;if("throw"===r.type){var n=r.arg;T(a)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,a,r){return this.delegate={iterator:S(e),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}function h(t,e,a,r,n,s,i){try{var o=t[s](i),c=o.value}catch(t){return void a(t)}o.done?e(c):Promise.resolve(c).then(r,n)}function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){g(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function g(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.a={name:"Conversations",mixins:[o.a],components:{TawkButton:n.TawkButton,item:s.a,ItemLoader:i.a},data:function(){return{unseenMessages:[],history:{isLoading:!1,items:[],nextListHash:!1}}},props:{historyEnabled:{type:Boolean,default:!0}},mounted:function(){var e=this;this.historyEnabled&&(this.loadHistory(),t.Tawk_Window.eventBus.$on("callDataUpdated",(function(t){e.activeConversation&&t.callId===e.activeConversation.callId&&(e.activeConversation.callData=t)})))},beforeDestroy:function(){this.unsetItems()},computed:m(m({},Object(r.c)({items:"history/items",chatMessages:"chat/chatMessages",chatOrder:"chat/chatOrder",endedChats:"chat/endedChats",nextListHash:"history/nextListHash",isLoading:"history/isLoading",token:"session/token"})),{},{activeConversation:function(){return 0===this.chatOrder?null:this.chatMessages[this.chatOrder]}}),methods:m(m({},Object(r.b)({routerPush:"router/routerPush",unsetItems:"history/unsetItems",showOverlay:"overlay/showOverlay",checkTokenValidity:"session/checkTokenValidity"})),{},{goToHistoryView:function(){this.routerPush("history-list"),this.showOverlay(!0)},loadHistory:function(){var t=this;return function(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var s=t.apply(e,a);function i(t){h(s,r,n,i,o,"next",t)}function o(t){h(s,r,n,i,o,"throw",t)}i(void 0)}))}}(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.checkTokenValidity();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:t.history.isLoading=!0,c.a.get("".concat("https://va.tawk.to","/v1/chat/list"),{limit:3},{"X-Tawk-Token":t.token},(function(e,a){e&&console.error(e),t.history.isLoading=!1,t.history.items=a.data.chats,t.$emit("historyItemsLoaded",t.history.items.length),a.data.hasNext&&a.data.next?t.history.nextListHash=a.data.next:t.history.nextListHash=null}));case 10:case"end":return e.stop()}}),e,null,[[0,5]])})))()}})}}).call(this,a("c8ba"))}}]);
//# sourceMappingURL=twk-chunk-5aa2faa9.js.map